
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 18
Objective value = -1202.12
nSV = 2402
Creating cache for labeled documents...
Generate 2340(0:1170) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	963	-3150.76	0.7699
1	958	-3150.07	0.7713
2	954	-3149.78	0.7729
3	955	-3149.61	0.7731
4	956	-3149.57	0.7723
5	956	-3149.56	0.7723
6	956	-3149.56	0.7723
[Info]Training procedure takes 0.34 seconds to finish...
0.09224 -0.28619 -0.11959 -0.00307 0.05790 -0.00418 -0.10762 0.45264 0.13771 0.27846 -0.01266 
Construct nearest neighbor graph nodes in parallel: L: 3416, U: 13360
Construct nearest neighbor graph edges in parallel: L: 3416, U: 13360
[5010,6680) finished...
[1670,3340) finished...
[0,1670) finished...
[3340,5010) finished...
[11690,13360) finished...
[6680,8350) finished...
[8350,10020) finished...
[10020,11690) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7906...
Iteration 2, converge to 0.000 with accuracy 0.7906...
Iteration 3, converge to 0.000 with accuracy 0.7906...

Query	Docs	P@5	P@10	P@20
Pos	U	0.192	0.248	0.310
Pos	L	0.441	0.433	0.437
Neg	U	0.847	0.805	0.763
Neg	L	0.644	0.649	0.644

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 131.56 seconds with accuracy 0.7906 and F1 (0:0.762 1:0.813)...
..*
optimization finished, #iter = 21
Objective value = -1179.70
nSV = 2378
Creating cache for labeled documents...
Generate 2426(0:1213) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	948	-3193.63	0.7816
1	946	-3193.93	0.7817
2	946	-3194.74	0.7817
3	944	-3194.43	0.7820
4	944	-3194.38	0.7820
5	944	-3194.38	0.7820
[Info]Training procedure takes 0.19 seconds to finish...
0.13523 -0.40362 0.03250 -0.06671 0.02799 0.01252 0.02993 0.54995 0.08785 0.33873 0.01419 
Construct nearest neighbor graph nodes in parallel: L: 3425, U: 13351
Construct nearest neighbor graph edges in parallel: L: 3425, U: 13351
[5004,6672) finished...
[1668,3336) finished...
[0,1668) finished...
[3336,5004) finished...
[11676,13351) finished...
[6672,8340) finished...
[8340,10008) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7862...
Iteration 2, converge to 0.000 with accuracy 0.7862...
Iteration 3, converge to 0.000 with accuracy 0.7862...

Query	Docs	P@5	P@10	P@20
Pos	U	0.656	0.592	0.556
Pos	L	0.467	0.469	0.473
Neg	U	0.446	0.519	0.568
Neg	L	0.686	0.674	0.658

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.34 seconds with accuracy 0.7862 and F1 (0:0.754 1:0.811)...
.*
optimization finished, #iter = 19
Objective value = -1199.98
nSV = 2389
Creating cache for labeled documents...
Generate 2304(0:1152) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	863	-2999.02	0.7889
1	865	-2998.99	0.7883
2	863	-2997.70	0.7890
3	862	-2997.51	0.7891
4	862	-2997.48	0.7891
5	862	-2997.47	0.7891
6	862	-2997.47	0.7891
[Info]Training procedure takes 0.20 seconds to finish...
0.16155 -0.37925 -0.02673 0.04399 0.05786 0.00751 0.04457 0.39154 0.10053 0.65724 -0.02429 
Construct nearest neighbor graph nodes in parallel: L: 3367, U: 13409
Construct nearest neighbor graph edges in parallel: L: 3367, U: 13409
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13409) finished...
[8380,10056) finished...
[10056,11732) finished...
[6704,8380) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7851...
Iteration 2, converge to 0.001 with accuracy 0.7851...
Iteration 3, converge to 0.000 with accuracy 0.7851...

Query	Docs	P@5	P@10	P@20
Pos	U	0.764	0.667	0.554
Pos	L	0.631	0.523	0.416
Neg	U	0.175	0.255	0.387
Neg	L	0.328	0.451	0.561

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 128.54 seconds with accuracy 0.7851 and F1 (0:0.754 1:0.809)...
..*
optimization finished, #iter = 23
Objective value = -1158.27
nSV = 2377
Creating cache for labeled documents...
Generate 2228(0:1114) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	885	-2958.20	0.7714
1	880	-2955.37	0.7729
2	873	-2955.09	0.7750
3	877	-2955.92	0.7734
4	879	-2956.04	0.7725
5	879	-2956.06	0.7725
6	879	-2956.06	0.7725
7	879	-2956.06	0.7725
8	879	-2956.06	0.7725
[Info]Training procedure takes 0.21 seconds to finish...
0.16372 -0.24658 -0.03687 0.02201 0.04418 0.00590 0.05096 0.14956 0.04361 0.62266 -0.00454 
Construct nearest neighbor graph nodes in parallel: L: 3322, U: 13454
Construct nearest neighbor graph edges in parallel: L: 3322, U: 13454
[5043,6724) finished...
[1681,3362) finished...
[3362,5043) finished...
[11767,13454) finished...
[0,1681) finished...
[8405,10086) finished...
[6724,8405) finished...
[10086,11767) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7842...
Iteration 2, converge to 0.001 with accuracy 0.7842...
Iteration 3, converge to 0.000 with accuracy 0.7842...

Query	Docs	P@5	P@10	P@20
Pos	U	0.564	0.453	0.369
Pos	L	0.758	0.628	0.510
Neg	U	0.354	0.512	0.604
Neg	L	0.226	0.397	0.510

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.56 seconds with accuracy 0.7842 and F1 (0:0.753 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1181.96
nSV = 2399
Creating cache for labeled documents...
Generate 2418(0:1209) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	901	-3139.82	0.7841
1	904	-3139.15	0.7831
2	902	-3139.27	0.7837
3	903	-3139.29	0.7838
4	903	-3139.29	0.7838
5	903	-3139.29	0.7838
6	903	-3139.29	0.7838
[Info]Training procedure takes 0.16 seconds to finish...
0.18044 -0.39617 0.13623 -0.05889 0.08672 -0.01331 0.14202 0.37943 0.05369 0.65851 0.01293 
Construct nearest neighbor graph nodes in parallel: L: 3389, U: 13387
Construct nearest neighbor graph edges in parallel: L: 3389, U: 13387
[5019,6692) finished...
[1673,3346) finished...
[0,1673) finished...
[11711,13387) finished...
[3346,5019) finished...
[6692,8365) finished...
[8365,10038) finished...
[10038,11711) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7836...
Iteration 2, converge to 0.000 with accuracy 0.7836...
Iteration 3, converge to 0.000 with accuracy 0.7836...

Query	Docs	P@5	P@10	P@20
Pos	U	0.670	0.569	0.624
Pos	L	0.550	0.464	0.463
Neg	U	0.312	0.434	0.403
Neg	L	0.462	0.548	0.593

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.81 seconds with accuracy 0.7836 and F1 (0:0.754 1:0.807)...
.*
optimization finished, #iter = 19
Objective value = -1205.43
nSV = 2402
Creating cache for labeled documents...
Generate 2350(0:1175) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	757	-2887.56	0.8067
1	753	-2885.24	0.8061
2	752	-2885.57	0.8065
3	751	-2885.11	0.8061
4	750	-2885.06	0.8062
5	750	-2885.06	0.8062
6	750	-2885.06	0.8062
7	750	-2885.06	0.8062
8	750	-2885.06	0.8062
[Info]Training procedure takes 0.22 seconds to finish...
0.27843 -0.54336 0.14614 -0.06831 0.09894 -0.01166 0.13253 0.71136 -0.06328 0.70309 -0.01821 
Construct nearest neighbor graph nodes in parallel: L: 3412, U: 13364
Construct nearest neighbor graph edges in parallel: L: 3412, U: 13364
[5010,6680) finished...
[1670,3340) finished...
[0,1670) finished...
[3340,5010) finished...
[11690,13364) finished...
[8350,10020) finished...
[6680,8350) finished...
[10020,11690) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7880...
Iteration 2, converge to 0.000 with accuracy 0.7880...
Iteration 3, converge to 0.000 with accuracy 0.7880...

Query	Docs	P@5	P@10	P@20
Pos	U	0.999	0.986	0.892
Pos	L	0.643	0.610	0.575
Neg	U	0.001	0.026	0.173
Neg	L	0.378	0.454	0.514

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.57 seconds with accuracy 0.7880 and F1 (0:0.760 1:0.810)...
.*
optimization finished, #iter = 18
Objective value = -1162.08
nSV = 2383
Creating cache for labeled documents...
Generate 2260(0:1130) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	805	-2914.97	0.7962
1	810	-2913.50	0.7951
2	811	-2912.83	0.7945
3	815	-2912.78	0.7936
4	815	-2912.77	0.7936
5	815	-2912.77	0.7936
6	815	-2912.77	0.7936
7	815	-2912.77	0.7936
8	815	-2912.77	0.7936
9	815	-2912.77	0.7936
[Info]Training procedure takes 0.23 seconds to finish...
0.21989 -0.41932 0.21233 -0.03823 0.09976 0.01659 0.13657 0.51013 -0.07121 0.55574 -0.00948 
Construct nearest neighbor graph nodes in parallel: L: 3335, U: 13441
Construct nearest neighbor graph edges in parallel: L: 3335, U: 13441
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[11760,13441) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7856...
Iteration 2, converge to 0.000 with accuracy 0.7856...
Iteration 3, converge to 0.000 with accuracy 0.7856...

Query	Docs	P@5	P@10	P@20
Pos	U	0.595	0.719	0.671
Pos	L	0.741	0.671	0.616
Neg	U	0.417	0.313	0.403
Neg	L	0.285	0.406	0.485

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.32 seconds with accuracy 0.7856 and F1 (0:0.753 1:0.810)...
.*.
optimization finished, #iter = 20
Objective value = -1171.42
nSV = 2328
Creating cache for labeled documents...
Generate 2130(0:1065) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	786	-2802.38	0.7911
1	783	-2802.24	0.7919
2	782	-2801.65	0.7924
3	783	-2801.63	0.7924
4	784	-2801.62	0.7923
5	784	-2801.62	0.7923
6	784	-2801.62	0.7923
[Info]Training procedure takes 0.16 seconds to finish...
0.11395 -0.26995 0.02474 -0.03771 0.00528 -0.01123 0.04861 0.50784 -0.05729 0.50484 0.06642 
Construct nearest neighbor graph nodes in parallel: L: 3227, U: 13549
Construct nearest neighbor graph edges in parallel: L: 3227, U: 13549
[5079,6772) finished...
[1693,3386) finished...
[3386,5079) finished...
[11851,13549) finished...
[0,1693) finished...
[6772,8465) finished...
[8465,10158) finished...
[10158,11851) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7871...
Iteration 2, converge to 0.000 with accuracy 0.7871...
Iteration 3, converge to 0.000 with accuracy 0.7871...

Query	Docs	P@5	P@10	P@20
Pos	U	0.541	0.477	0.459
Pos	L	0.753	0.628	0.534
Neg	U	0.480	0.535	0.575
Neg	L	0.261	0.410	0.529

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.56 seconds with accuracy 0.7871 and F1 (0:0.757 1:0.811)...
.*
optimization finished, #iter = 17
Objective value = -1189.40
nSV = 2355
Creating cache for labeled documents...
Generate 2256(0:1128) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	802	-2951.36	0.7964
1	807	-2951.87	0.7946
2	807	-2951.98	0.7947
3	805	-2951.92	0.7949
4	805	-2951.92	0.7949
5	805	-2951.92	0.7949
6	805	-2951.92	0.7949
[Info]Training procedure takes 0.19 seconds to finish...
0.09717 -0.32189 0.11658 -0.00028 0.02824 -0.00150 0.03003 0.49219 0.01468 0.56905 -0.00925 
Construct nearest neighbor graph nodes in parallel: L: 3269, U: 13507
Construct nearest neighbor graph edges in parallel: L: 3269, U: 13507
[5064,6752) finished...
[1688,3376) finished...
[0,1688) finished...
[3376,5064) finished...
[11816,13507) finished...
[8440,10128) finished...
[6752,8440) finished...
[10128,11816) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7874...
Iteration 2, converge to 0.000 with accuracy 0.7874...
Iteration 3, converge to 0.000 with accuracy 0.7874...

Query	Docs	P@5	P@10	P@20
Pos	U	0.593	0.727	0.677
Pos	L	0.701	0.582	0.510
Neg	U	0.415	0.277	0.355
Neg	L	0.359	0.497	0.571

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.50 seconds with accuracy 0.7874 and F1 (0:0.755 1:0.812)...
.*.
optimization finished, #iter = 20
Objective value = -1204.42
nSV = 2407
Creating cache for labeled documents...
Generate 2328(0:1164) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 0.200, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	895	-3060.63	0.7913
1	892	-3060.27	0.7919
2	894	-3059.54	0.7911
3	893	-3059.25	0.7915
4	893	-3059.24	0.7915
5	893	-3059.24	0.7915
6	893	-3059.24	0.7915
[Info]Training procedure takes 0.17 seconds to finish...
0.12113 -0.21651 0.06297 0.06026 0.06250 -0.02282 -0.12438 0.54824 0.06747 0.41572 0.01445 
Construct nearest neighbor graph nodes in parallel: L: 3390, U: 13386
Construct nearest neighbor graph edges in parallel: L: 3390, U: 13386
[5019,6692) finished...
[1673,3346) finished...
[0,1673) finished...
[11711,13386) finished...
[3346,5019) finished...
[6692,8365) finished...
[8365,10038) finished...
[10038,11711) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7858...
Iteration 2, converge to 0.001 with accuracy 0.7858...
Iteration 3, converge to 0.000 with accuracy 0.7858...

Query	Docs	P@5	P@10	P@20
Pos	U	0.468	0.432	0.383
Pos	L	0.462	0.487	0.485
Neg	U	0.500	0.545	0.596
Neg	L	0.535	0.533	0.544

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.06 seconds with accuracy 0.7858 and F1 (0:0.756 1:0.809)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.790+/-0.006)	recall(0.724+/-0.008)
Class 1:	precision(0.784+/-0.005)	recall(0.839+/-0.006)
	0	1	P
0	44349	11763	0.7904
1	16907	61189	0.7835
R	0.7240	0.8388	0.7864
F1	0.7557	0.8102

Query	Docs	P@5	P@10	P@20
Pos	U	0.604	0.587	0.550
Pos	L	0.615	0.550	0.502
Neg	U	0.395	0.422	0.483
Neg	L	0.416	0.502	0.561

