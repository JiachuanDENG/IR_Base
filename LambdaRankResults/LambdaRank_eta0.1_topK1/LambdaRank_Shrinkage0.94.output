
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 18
Objective value = -1199.07
nSV = 2367
Creating cache for labeled documents...
Generate 2208(0:1104) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	911	-2999.81	0.7702
1	916	-3000.10	0.7692
2	916	-3000.10	0.7692
3	916	-3000.10	0.7692
4	916	-3000.10	0.7692
5	916	-3000.10	0.7692
6	916	-3000.10	0.7692
[Info]Training procedure takes 0.35 seconds to finish...
0.02102 -0.03876 -0.01029 0.02059 0.00336 0.00096 -0.01817 0.08207 0.01584 0.22398 0.00017 
Construct nearest neighbor graph nodes in parallel: L: 3298, U: 13478
Construct nearest neighbor graph edges in parallel: L: 3298, U: 13478
[5052,6736) finished...
[1684,3368) finished...
[3368,5052) finished...
[0,1684) finished...
[11788,13478) finished...
[6736,8420) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7877...
Iteration 2, converge to 0.000 with accuracy 0.7877...
Iteration 3, converge to 0.000 with accuracy 0.7877...

Query	Docs	P@5	P@10	P@20
Pos	U	0.622	0.431	0.388
Pos	L	0.369	0.307	0.338
Neg	U	0.368	0.521	0.580
Neg	L	0.634	0.680	0.667

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.13 seconds with accuracy 0.7877 and F1 (0:0.754 1:0.813)...
......................*
optimization finished, #iter = 223
Objective value = -1157.37
nSV = 2322
Creating cache for labeled documents...
Generate 2246(0:1123) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	818	-3001.58	0.7939
1	825	-3001.55	0.7929
2	825	-3001.55	0.7929
3	825	-3001.55	0.7929
4	825	-3001.55	0.7929
5	825	-3001.55	0.7929
6	825	-3001.55	0.7929
[Info]Training procedure takes 0.17 seconds to finish...
0.04246 -0.08548 0.02712 -0.01974 0.01345 -0.00077 -0.02935 0.12698 0.02530 0.30195 -0.00019 
Construct nearest neighbor graph nodes in parallel: L: 3313, U: 13463
Construct nearest neighbor graph edges in parallel: L: 3313, U: 13463
[5046,6728) finished...
[1682,3364) finished...
[3364,5046) finished...
[0,1682) finished...
[6728,8410) finished...
[11774,13463) finished...
[8410,10092) finished...
[10092,11774) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7897...
Iteration 2, converge to 0.000 with accuracy 0.7897...
Iteration 3, converge to 0.000 with accuracy 0.7897...

Query	Docs	P@5	P@10	P@20
Pos	U	0.596	0.399	0.456
Pos	L	0.534	0.371	0.370
Neg	U	0.402	0.600	0.546
Neg	L	0.494	0.648	0.660

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.15 seconds with accuracy 0.7897 and F1 (0:0.759 1:0.814)...
..*
optimization finished, #iter = 28
Objective value = -1183.10
nSV = 2400
Creating cache for labeled documents...
Generate 2320(0:1160) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	867	-3091.05	0.7849
1	868	-3090.94	0.7848
2	868	-3090.94	0.7848
3	868	-3090.94	0.7848
4	868	-3090.94	0.7848
5	868	-3090.94	0.7848
6	868	-3090.94	0.7848
[Info]Training procedure takes 0.16 seconds to finish...
0.06514 -0.13045 0.10154 -0.05847 0.02765 -0.00087 0.01949 0.24892 0.00154 0.16845 -0.00004 
Construct nearest neighbor graph nodes in parallel: L: 3392, U: 13384
Construct nearest neighbor graph edges in parallel: L: 3392, U: 13384
[5019,6692) finished...
[1673,3346) finished...
[3346,5019) finished...
[11711,13384) finished...
[0,1673) finished...
[8365,10038) finished...
[6692,8365) finished...
[10038,11711) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7874...
Iteration 2, converge to 0.000 with accuracy 0.7874...
Iteration 3, converge to 0.000 with accuracy 0.7874...

Query	Docs	P@5	P@10	P@20
Pos	U	0.773	0.687	0.631
Pos	L	0.578	0.560	0.540
Neg	U	0.346	0.424	0.495
Neg	L	0.563	0.575	0.579

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.60 seconds with accuracy 0.7874 and F1 (0:0.758 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1237.21
nSV = 2462
Creating cache for labeled documents...
Generate 2374(0:1187) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1003	-3238.49	0.7576
1	1003	-3238.46	0.7576
2	1003	-3238.46	0.7576
3	1003	-3238.46	0.7576
4	1003	-3238.46	0.7576
5	1003	-3238.46	0.7576
[Info]Training procedure takes 0.13 seconds to finish...
0.05024 -0.08831 0.07911 -0.03978 0.02275 -0.00050 -0.00241 0.16968 0.00011 0.06442 0.00012 
Construct nearest neighbor graph nodes in parallel: L: 3438, U: 13338
Construct nearest neighbor graph edges in parallel: L: 3438, U: 13338
[5001,6668) finished...
[1667,3334) finished...
[0,1667) finished...
[11669,13338) finished...
[3334,5001) finished...
[6668,8335) finished...
[8335,10002) finished...
[10002,11669) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.040 with accuracy 0.7824...
Iteration 2, converge to 0.000 with accuracy 0.7824...
Iteration 3, converge to 0.000 with accuracy 0.7824...

Query	Docs	P@5	P@10	P@20
Pos	U	0.635	0.628	0.621
Pos	L	0.613	0.607	0.596
Neg	U	0.588	0.581	0.575
Neg	L	0.572	0.565	0.562

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.53 seconds with accuracy 0.7824 and F1 (0:0.754 1:0.805)...
.*.
optimization finished, #iter = 20
Objective value = -1211.36
nSV = 2398
Creating cache for labeled documents...
Generate 2288(0:1144) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	939	-3105.26	0.7547
1	938	-3105.39	0.7555
2	938	-3105.39	0.7555
3	938	-3105.39	0.7555
4	938	-3105.39	0.7555
5	938	-3105.39	0.7555
[Info]Training procedure takes 0.13 seconds to finish...
0.03758 -0.08079 0.08199 0.01239 0.01610 -0.00195 0.00903 0.13059 0.02792 0.21252 -0.00003 
Construct nearest neighbor graph nodes in parallel: L: 3403, U: 13373
Construct nearest neighbor graph edges in parallel: L: 3403, U: 13373
[5013,6684) finished...
[1671,3342) finished...
[0,1671) finished...
[3342,5013) finished...
[11697,13373) finished...
[6684,8355) finished...
[8355,10026) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7902...
Iteration 2, converge to 0.001 with accuracy 0.7902...
Iteration 3, converge to 0.000 with accuracy 0.7902...

Query	Docs	P@5	P@10	P@20
Pos	U	0.628	0.554	0.472
Pos	L	0.782	0.697	0.579
Neg	U	0.278	0.354	0.465
Neg	L	0.224	0.301	0.428

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.55 seconds with accuracy 0.7902 and F1 (0:0.763 1:0.812)...
.*
optimization finished, #iter = 18
Objective value = -1176.81
nSV = 2368
Creating cache for labeled documents...
Generate 2238(0:1119) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	963	-3075.73	0.7607
1	959	-3075.63	0.7614
2	959	-3075.63	0.7614
3	959	-3075.63	0.7614
4	959	-3075.63	0.7614
5	959	-3075.63	0.7614
[Info]Training procedure takes 0.13 seconds to finish...
0.02523 -0.06857 0.00356 0.01694 0.01046 -0.00212 -0.00373 0.12826 0.01496 0.09591 -0.00115 
Construct nearest neighbor graph nodes in parallel: L: 3344, U: 13432
Construct nearest neighbor graph edges in parallel: L: 3344, U: 13432
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13432) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7829...
Iteration 2, converge to 0.001 with accuracy 0.7829...
Iteration 3, converge to 0.000 with accuracy 0.7829...

Query	Docs	P@5	P@10	P@20
Pos	U	0.441	0.327	0.280
Pos	L	0.874	0.741	0.628
Neg	U	0.541	0.658	0.700
Neg	L	0.183	0.301	0.405

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.62 seconds with accuracy 0.7829 and F1 (0:0.751 1:0.807)...
.*.
optimization finished, #iter = 20
Objective value = -1185.48
nSV = 2369
Creating cache for labeled documents...
Generate 2260(0:1130) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	835	-3045.57	0.7875
1	834	-3045.68	0.7876
2	834	-3045.69	0.7876
3	834	-3045.69	0.7876
4	834	-3045.69	0.7876
5	834	-3045.69	0.7876
[Info]Training procedure takes 0.13 seconds to finish...
0.04866 -0.10939 0.07080 0.01298 0.01895 -0.00038 0.05322 0.23709 0.01556 0.14392 -0.00050 
Construct nearest neighbor graph nodes in parallel: L: 3333, U: 13443
Construct nearest neighbor graph edges in parallel: L: 3333, U: 13443
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[6720,8400) finished...
[11760,13443) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7872...
Iteration 2, converge to 0.000 with accuracy 0.7872...
Iteration 3, converge to 0.000 with accuracy 0.7872...

Query	Docs	P@5	P@10	P@20
Pos	U	0.442	0.374	0.369
Pos	L	0.777	0.612	0.517
Neg	U	0.590	0.656	0.664
Neg	L	0.272	0.423	0.513

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.06 seconds with accuracy 0.7872 and F1 (0:0.756 1:0.811)...
..*
optimization finished, #iter = 22
Objective value = -1135.41
nSV = 2328
Creating cache for labeled documents...
Generate 2184(0:1092) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	759	-2904.30	0.7991
1	758	-2904.23	0.7994
2	758	-2904.23	0.7994
3	758	-2904.23	0.7994
4	758	-2904.23	0.7994
5	758	-2904.23	0.7994
[Info]Training procedure takes 0.11 seconds to finish...
0.05329 -0.12953 0.08955 -0.01558 0.02691 -0.00116 0.02604 0.26756 0.00548 0.20828 0.00044 
Construct nearest neighbor graph nodes in parallel: L: 3316, U: 13460
Construct nearest neighbor graph edges in parallel: L: 3316, U: 13460
[5046,6728) finished...
[1682,3364) finished...
[0,1682) finished...
[11774,13460) finished...
[3364,5046) finished...
[6728,8410) finished...
[8410,10092) finished...
[10092,11774) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7846...
Iteration 2, converge to 0.000 with accuracy 0.7846...
Iteration 3, converge to 0.000 with accuracy 0.7846...

Query	Docs	P@5	P@10	P@20
Pos	U	0.033	0.112	0.217
Pos	L	0.359	0.419	0.457
Neg	U	0.979	0.924	0.844
Neg	L	0.742	0.686	0.655

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.61 seconds with accuracy 0.7846 and F1 (0:0.755 1:0.808)...
.*
optimization finished, #iter = 17
Objective value = -1197.81
nSV = 2363
Creating cache for labeled documents...
Generate 2298(0:1149) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	861	-3091.57	0.7822
1	867	-3091.19	0.7809
2	867	-3091.19	0.7809
3	867	-3091.19	0.7809
4	867	-3091.19	0.7809
5	867	-3091.19	0.7809
6	867	-3091.19	0.7809
[Info]Training procedure takes 0.15 seconds to finish...
0.03239 -0.07216 0.04880 -0.01781 0.01763 -0.00087 0.01459 0.13613 0.01110 0.26501 0.00006 
Construct nearest neighbor graph nodes in parallel: L: 3350, U: 13426
Construct nearest neighbor graph edges in parallel: L: 3350, U: 13426
[5034,6712) finished...
[1678,3356) finished...
[3356,5034) finished...
[0,1678) finished...
[11746,13426) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7878...
Iteration 2, converge to 0.001 with accuracy 0.7878...
Iteration 3, converge to 0.000 with accuracy 0.7878...

Query	Docs	P@5	P@10	P@20
Pos	U	0.777	0.667	0.647
Pos	L	0.653	0.562	0.508
Neg	U	0.224	0.338	0.359
Neg	L	0.349	0.465	0.539

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.24 seconds with accuracy 0.7878 and F1 (0:0.757 1:0.811)...
..*
optimization finished, #iter = 27
Objective value = -1231.01
nSV = 2411
Creating cache for labeled documents...
Generate 2354(0:1177) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.940, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	873	-3123.24	0.7891
1	873	-3123.49	0.7891
2	873	-3123.49	0.7891
3	873	-3123.49	0.7891
4	873	-3123.49	0.7891
5	873	-3123.49	0.7891
[Info]Training procedure takes 0.14 seconds to finish...
0.04904 -0.09313 0.07021 0.03140 0.02011 -0.00028 0.05579 0.18016 0.02516 0.30874 0.00003 
Construct nearest neighbor graph nodes in parallel: L: 3365, U: 13411
Construct nearest neighbor graph edges in parallel: L: 3365, U: 13411
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13411) finished...
[6704,8380) finished...
[8380,10056) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7855...
Iteration 2, converge to 0.000 with accuracy 0.7855...
Iteration 3, converge to 0.000 with accuracy 0.7855...

Query	Docs	P@5	P@10	P@20
Pos	U	0.871	0.667	0.638
Pos	L	0.570	0.446	0.400
Neg	U	0.102	0.282	0.347
Neg	L	0.361	0.500	0.592

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.66 seconds with accuracy 0.7855 and F1 (0:0.755 1:0.809)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.790+/-0.005)	recall(0.726+/-0.007)
Class 1:	precision(0.784+/-0.004)	recall(0.838+/-0.006)
	0	1	P
0	44441	11833	0.7897
1	16815	61119	0.7842
R	0.7255	0.8378	0.7865
F1	0.7562	0.8101

Query	Docs	P@5	P@10	P@20
Pos	U	0.582	0.485	0.472
Pos	L	0.611	0.532	0.493
Neg	U	0.442	0.534	0.557
Neg	L	0.439	0.514	0.560

