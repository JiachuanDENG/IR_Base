
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
...*
optimization finished, #iter = 33
Objective value = -1236.74
nSV = 2434
Creating cache for labeled documents...
Generate 2232(0:1116) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	919	-3036.36	0.7640
1	921	-3036.37	0.7633
2	921	-3036.37	0.7633
3	921	-3036.37	0.7633
4	921	-3036.37	0.7633
5	921	-3036.37	0.7633
6	921	-3036.37	0.7633
[Info]Training procedure takes 0.38 seconds to finish...
0.04719 -0.10132 0.08909 0.00754 0.01913 -0.00028 0.03375 0.15745 0.00197 0.14759 0.00523 
Construct nearest neighbor graph nodes in parallel: L: 3419, U: 13357
Construct nearest neighbor graph edges in parallel: L: 3419, U: 13357
[5007,6676) finished...
[1669,3338) finished...
[3338,5007) finished...
[11683,13357) finished...
[0,1669) finished...
[6676,8345) finished...
[8345,10014) finished...
[10014,11683) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7922...
Iteration 2, converge to 0.000 with accuracy 0.7922...
Iteration 3, converge to 0.000 with accuracy 0.7922...

Query	Docs	P@5	P@10	P@20
Pos	U	0.706	0.590	0.520
Pos	L	0.653	0.588	0.533
Neg	U	0.269	0.408	0.494
Neg	L	0.334	0.436	0.501

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.38 seconds with accuracy 0.7922 and F1 (0:0.764 1:0.815)...
..*
optimization finished, #iter = 29
Objective value = -1199.53
nSV = 2368
Creating cache for labeled documents...
Generate 2234(0:1117) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	890	-3016.91	0.7734
1	890	-3016.87	0.7734
2	890	-3016.87	0.7734
3	890	-3016.87	0.7734
4	890	-3016.87	0.7734
5	890	-3016.87	0.7734
[Info]Training procedure takes 0.14 seconds to finish...
0.04001 -0.09448 0.05665 0.04303 0.02240 -0.00137 0.02191 0.16474 0.01688 0.20378 0.00108 
Construct nearest neighbor graph nodes in parallel: L: 3303, U: 13473
Construct nearest neighbor graph edges in parallel: L: 3303, U: 13473
[5052,6736) finished...
[1684,3368) finished...
[0,1684) finished...
[3368,5052) finished...
[11788,13473) finished...
[8420,10104) finished...
[6736,8420) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7876...
Iteration 2, converge to 0.000 with accuracy 0.7876...
Iteration 3, converge to 0.000 with accuracy 0.7876...

Query	Docs	P@5	P@10	P@20
Pos	U	0.642	0.619	0.499
Pos	L	0.292	0.371	0.425
Neg	U	0.341	0.378	0.484
Neg	L	0.672	0.616	0.570

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.04 seconds with accuracy 0.7876 and F1 (0:0.757 1:0.812)...
..*
optimization finished, #iter = 26
Objective value = -1201.83
nSV = 2413
Creating cache for labeled documents...
Generate 2234(0:1117) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	916	-3041.08	0.7598
1	914	-3041.08	0.7601
2	914	-3041.08	0.7601
3	914	-3041.08	0.7601
4	914	-3041.08	0.7601
5	914	-3041.08	0.7601
[Info]Training procedure takes 0.16 seconds to finish...
0.04328 -0.10689 -0.01479 -0.00837 0.01541 0.00091 0.00094 0.17227 0.01835 0.15097 -0.00351 
Construct nearest neighbor graph nodes in parallel: L: 3331, U: 13445
Construct nearest neighbor graph edges in parallel: L: 3331, U: 13445
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[11760,13445) finished...
[3360,5040) finished...
[8400,10080) finished...
[6720,8400) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7896...
Iteration 2, converge to 0.000 with accuracy 0.7896...
Iteration 3, converge to 0.000 with accuracy 0.7896...

Query	Docs	P@5	P@10	P@20
Pos	U	0.200	0.138	0.203
Pos	L	0.351	0.395	0.439
Neg	U	0.799	0.866	0.821
Neg	L	0.693	0.675	0.651

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.68 seconds with accuracy 0.7896 and F1 (0:0.758 1:0.814)...
..*
optimization finished, #iter = 21
Objective value = -1196.36
nSV = 2376
Creating cache for labeled documents...
Generate 2330(0:1165) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	910	-3147.19	0.7853
1	908	-3147.17	0.7856
2	908	-3147.17	0.7856
3	908	-3147.17	0.7856
4	908	-3147.17	0.7856
5	908	-3147.17	0.7856
[Info]Training procedure takes 0.14 seconds to finish...
0.03960 -0.09564 -0.01650 -0.06594 0.01857 -0.00069 0.02102 0.16898 0.00586 0.15733 -0.00006 
Construct nearest neighbor graph nodes in parallel: L: 3341, U: 13435
Construct nearest neighbor graph edges in parallel: L: 3341, U: 13435
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13435) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7870...
Iteration 2, converge to 0.000 with accuracy 0.7870...
Iteration 3, converge to 0.000 with accuracy 0.7870...

Query	Docs	P@5	P@10	P@20
Pos	U	0.002	0.026	0.133
Pos	L	0.266	0.341	0.396
Neg	U	0.998	0.978	0.895
Neg	L	0.798	0.726	0.676

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.28 seconds with accuracy 0.7870 and F1 (0:0.759 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1174.52
nSV = 2373
Creating cache for labeled documents...
Generate 2302(0:1151) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	836	-3068.01	0.7880
1	838	-3068.05	0.7874
2	838	-3068.05	0.7874
3	838	-3068.05	0.7874
4	838	-3068.05	0.7874
5	838	-3068.05	0.7874
6	838	-3068.05	0.7874
[Info]Training procedure takes 0.17 seconds to finish...
0.05558 -0.10586 0.06264 0.01655 0.02338 -0.00138 0.00317 0.19448 0.02396 0.28263 -0.00073 
Construct nearest neighbor graph nodes in parallel: L: 3351, U: 13425
Construct nearest neighbor graph edges in parallel: L: 3351, U: 13425
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[3356,5034) finished...
[6712,8390) finished...
[11746,13425) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7850...
Iteration 2, converge to 0.001 with accuracy 0.7850...
Iteration 3, converge to 0.000 with accuracy 0.7850...

Query	Docs	P@5	P@10	P@20
Pos	U	0.695	0.612	0.549
Pos	L	0.585	0.484	0.420
Neg	U	0.219	0.312	0.388
Neg	L	0.404	0.518	0.588

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.97 seconds with accuracy 0.7850 and F1 (0:0.757 1:0.807)...
..*
optimization finished, #iter = 25
Objective value = -1133.32
nSV = 2324
Creating cache for labeled documents...
Generate 2390(0:1195) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	832	-3170.73	0.7988
1	832	-3170.70	0.7988
2	832	-3170.70	0.7988
3	832	-3170.70	0.7988
4	832	-3170.70	0.7988
5	832	-3170.70	0.7988
[Info]Training procedure takes 0.16 seconds to finish...
0.05714 -0.13708 0.07120 0.03061 0.02546 0.00050 0.03711 0.21036 0.01388 0.27704 0.00018 
Construct nearest neighbor graph nodes in parallel: L: 3357, U: 13419
Construct nearest neighbor graph edges in parallel: L: 3357, U: 13419
[5031,6708) finished...
[1677,3354) finished...
[0,1677) finished...
[3354,5031) finished...
[11739,13419) finished...
[6708,8385) finished...
[8385,10062) finished...
[10062,11739) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7829...
Iteration 2, converge to 0.001 with accuracy 0.7829...
Iteration 3, converge to 0.000 with accuracy 0.7829...

Query	Docs	P@5	P@10	P@20
Pos	U	0.500	0.456	0.432
Pos	L	0.678	0.514	0.415
Neg	U	0.452	0.486	0.514
Neg	L	0.294	0.459	0.575

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.05 seconds with accuracy 0.7829 and F1 (0:0.752 1:0.807)...
....................*
optimization finished, #iter = 203
Objective value = -1144.44
nSV = 2330
Creating cache for labeled documents...
Generate 2254(0:1127) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	853	-3024.14	0.7786
1	853	-3024.11	0.7786
2	853	-3024.11	0.7786
3	853	-3024.11	0.7786
4	853	-3024.11	0.7786
5	853	-3024.11	0.7786
[Info]Training procedure takes 0.15 seconds to finish...
0.04517 -0.11236 0.07686 0.04251 0.02206 -0.00194 0.03045 0.20112 -0.01078 0.21362 -0.00163 
Construct nearest neighbor graph nodes in parallel: L: 3303, U: 13473
Construct nearest neighbor graph edges in parallel: L: 3303, U: 13473
[1684,3368) finished...
[5052,6736) finished...
[3368,5052) finished...
[0,1684) finished...
[11788,13473) finished...
[6736,8420) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7844...
Iteration 2, converge to 0.001 with accuracy 0.7844...
Iteration 3, converge to 0.000 with accuracy 0.7844...

Query	Docs	P@5	P@10	P@20
Pos	U	0.272	0.363	0.325
Pos	L	0.581	0.469	0.458
Neg	U	0.696	0.612	0.638
Neg	L	0.388	0.520	0.540

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.68 seconds with accuracy 0.7844 and F1 (0:0.753 1:0.809)...
.*.
optimization finished, #iter = 20
Objective value = -1208.74
nSV = 2379
Creating cache for labeled documents...
Generate 2338(0:1169) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	874	-3124.78	0.7826
1	874	-3124.76	0.7826
2	874	-3124.76	0.7826
3	874	-3124.76	0.7826
4	874	-3124.76	0.7826
5	874	-3124.76	0.7826
[Info]Training procedure takes 0.16 seconds to finish...
0.05963 -0.11619 0.12576 -0.04974 0.02412 -0.00155 0.06362 0.17396 0.00822 0.21773 -0.00155 
Construct nearest neighbor graph nodes in parallel: L: 3332, U: 13444
Construct nearest neighbor graph edges in parallel: L: 3332, U: 13444
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[11760,13444) finished...
[8400,10080) finished...
[6720,8400) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7900...
Iteration 2, converge to 0.000 with accuracy 0.7900...
Iteration 3, converge to 0.000 with accuracy 0.7900...

Query	Docs	P@5	P@10	P@20
Pos	U	0.992	0.952	0.825
Pos	L	0.741	0.696	0.623
Neg	U	0.014	0.075	0.262
Neg	L	0.303	0.395	0.483

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.66 seconds with accuracy 0.7900 and F1 (0:0.757 1:0.815)...
..*
optimization finished, #iter = 22
Objective value = -1202.44
nSV = 2419
Creating cache for labeled documents...
Generate 2286(0:1143) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	896	-3100.85	0.7804
1	895	-3100.82	0.7805
2	895	-3100.82	0.7805
3	895	-3100.82	0.7805
4	895	-3100.82	0.7805
5	895	-3100.82	0.7805
[Info]Training procedure takes 0.15 seconds to finish...
0.04844 -0.09966 0.06634 -0.00703 0.01706 -0.00357 0.04425 0.20039 0.02657 0.13268 -0.00078 
Construct nearest neighbor graph nodes in parallel: L: 3372, U: 13404
Construct nearest neighbor graph edges in parallel: L: 3372, U: 13404
[5025,6700) finished...
[1675,3350) finished...
[3350,5025) finished...
[0,1675) finished...
[11725,13404) finished...
[6700,8375) finished...
[8375,10050) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7915...
Iteration 2, converge to 0.000 with accuracy 0.7915...
Iteration 3, converge to 0.000 with accuracy 0.7915...

Query	Docs	P@5	P@10	P@20
Pos	U	0.615	0.599	0.595
Pos	L	0.559	0.564	0.551
Neg	U	0.493	0.525	0.551
Neg	L	0.553	0.562	0.573

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.34 seconds with accuracy 0.7915 and F1 (0:0.757 1:0.817)...
..*
optimization finished, #iter = 26
Objective value = -1215.08
nSV = 2424
Creating cache for labeled documents...
Generate 2294(0:1147) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.920, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	886	-3097.47	0.7764
1	886	-3097.44	0.7764
2	886	-3097.44	0.7764
3	886	-3097.44	0.7764
4	886	-3097.44	0.7764
5	886	-3097.44	0.7764
[Info]Training procedure takes 0.16 seconds to finish...
0.05842 -0.12197 0.00848 -0.05488 0.02422 -0.00064 0.01293 0.20714 0.02770 0.16721 -0.00212 
Construct nearest neighbor graph nodes in parallel: L: 3443, U: 13333
Construct nearest neighbor graph edges in parallel: L: 3443, U: 13333
[4998,6664) finished...
[1666,3332) finished...
[3332,4998) finished...
[0,1666) finished...
[11662,13333) finished...
[8330,9996) finished...
[6664,8330) finished...
[9996,11662) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7894...
Iteration 2, converge to 0.000 with accuracy 0.7894...
Iteration 3, converge to 0.000 with accuracy 0.7894...

Query	Docs	P@5	P@10	P@20
Pos	U	0.511	0.394	0.435
Pos	L	0.497	0.502	0.505
Neg	U	0.496	0.643	0.641
Neg	L	0.572	0.583	0.589

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.63 seconds with accuracy 0.7894 and F1 (0:0.757 1:0.814)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.794+/-0.011)	recall(0.724+/-0.009)
Class 1:	precision(0.784+/-0.005)	recall(0.842+/-0.011)
	0	1	P
0	44337	11539	0.7935
1	16919	61413	0.7840
R	0.7238	0.8418	0.7880
F1	0.7570	0.8119

Query	Docs	P@5	P@10	P@20
Pos	U	0.513	0.475	0.452
Pos	L	0.520	0.492	0.476
Neg	U	0.478	0.528	0.569
Neg	L	0.501	0.549	0.575

