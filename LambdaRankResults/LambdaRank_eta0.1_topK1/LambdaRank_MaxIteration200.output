
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*.
optimization finished, #iter = 20
Objective value = -1162.33
nSV = 2366
Creating cache for labeled documents...
Generate 2098(0:1049) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	818	-2821.52	0.7803
1	818	-2820.64	0.7806
2	818	-2820.69	0.7806
3	818	-2820.69	0.7806
4	818	-2820.69	0.7806
5	818	-2820.69	0.7806
[Info]Training procedure takes 0.46 seconds to finish...
0.05242 -0.09460 0.02695 0.04342 0.02261 0.00010 0.00594 0.20874 -0.00410 0.21910 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3366, U: 13410
Construct nearest neighbor graph edges in parallel: L: 3366, U: 13410
[5028,6704) finished...
[1676,3352) finished...
[3352,5028) finished...
[0,1676) finished...
[11732,13410) finished...
[8380,10056) finished...
[6704,8380) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.052 with accuracy 0.7857...
Iteration 2, converge to 0.000 with accuracy 0.7857...
Iteration 3, converge to 0.000 with accuracy 0.7857...

Query	Docs	P@5	P@10	P@20
Pos	U	0.430	0.274	0.280
Pos	L	0.068	0.213	0.394
Neg	U	0.558	0.707	0.713
Neg	L	0.905	0.783	0.619

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.76 seconds with accuracy 0.7857 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 18
Objective value = -1191.28
nSV = 2369
Creating cache for labeled documents...
Generate 2238(0:1119) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	861	-2992.25	0.7793
1	865	-2992.03	0.7782
2	865	-2992.06	0.7782
3	865	-2992.06	0.7782
4	865	-2992.06	0.7782
5	865	-2992.06	0.7782
6	865	-2992.06	0.7782
[Info]Training procedure takes 0.29 seconds to finish...
0.04127 -0.09515 0.08940 0.04593 0.01315 0.00113 0.02055 0.16937 -0.00554 0.25964 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3335, U: 13441
Construct nearest neighbor graph edges in parallel: L: 3335, U: 13441
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[11760,13441) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.052 with accuracy 0.7845...
Iteration 2, converge to 0.001 with accuracy 0.7845...
Iteration 3, converge to 0.000 with accuracy 0.7845...

Query	Docs	P@5	P@10	P@20
Pos	U	0.473	0.386	0.387
Pos	L	0.439	0.351	0.441
Neg	U	0.491	0.581	0.588
Neg	L	0.525	0.630	0.570

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.27 seconds with accuracy 0.7845 and F1 (0:0.752 1:0.809)...
..*
optimization finished, #iter = 25
Objective value = -1194.33
nSV = 2357
Creating cache for labeled documents...
Generate 2216(0:1108) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	763	-2947.11	0.8053
1	763	-2946.04	0.8045
2	763	-2945.99	0.8045
3	763	-2945.99	0.8045
4	763	-2945.99	0.8045
5	763	-2945.99	0.8045
6	763	-2945.99	0.8045
[Info]Training procedure takes 0.27 seconds to finish...
0.04922 -0.11238 0.05503 -0.02621 0.02159 -0.00053 0.02409 0.20905 0.01147 0.27630 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3312, U: 13464
Construct nearest neighbor graph edges in parallel: L: 3312, U: 13464
[5049,6732) finished...
[1683,3366) finished...
[3366,5049) finished...
[11781,13464) finished...
[0,1683) finished...
[6732,8415) finished...
[8415,10098) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7886...
Iteration 2, converge to 0.000 with accuracy 0.7886...
Iteration 3, converge to 0.000 with accuracy 0.7886...

Query	Docs	P@5	P@10	P@20
Pos	U	1.000	0.829	0.807
Pos	L	0.898	0.718	0.597
Neg	U	0.001	0.166	0.215
Neg	L	0.120	0.333	0.474

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.04 seconds with accuracy 0.7886 and F1 (0:0.758 1:0.812)...
.*
optimization finished, #iter = 18
Objective value = -1188.64
nSV = 2378
Creating cache for labeled documents...
Generate 2384(0:1192) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	884	-3201.31	0.7877
1	887	-3200.46	0.7867
2	888	-3200.46	0.7865
3	888	-3200.46	0.7865
4	888	-3200.46	0.7865
5	888	-3200.46	0.7865
6	888	-3200.46	0.7865
7	888	-3200.46	0.7865
8	888	-3200.46	0.7865
[Info]Training procedure takes 0.34 seconds to finish...
0.05302 -0.10852 0.01599 -0.03967 0.02732 -0.00144 0.03875 0.23062 0.02335 0.20875 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3377, U: 13399
Construct nearest neighbor graph edges in parallel: L: 3377, U: 13399
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[11718,13399) finished...
[6696,8370) finished...
[8370,10044) finished...
[10044,11718) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7914...
Iteration 2, converge to 0.000 with accuracy 0.7914...
Iteration 3, converge to 0.000 with accuracy 0.7914...

Query	Docs	P@5	P@10	P@20
Pos	U	0.979	0.802	0.652
Pos	L	0.797	0.680	0.606
Neg	U	0.029	0.208	0.398
Neg	L	0.287	0.424	0.492

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.69 seconds with accuracy 0.7914 and F1 (0:0.763 1:0.814)...
.*.
optimization finished, #iter = 20
Objective value = -1196.36
nSV = 2410
Creating cache for labeled documents...
Generate 2344(0:1172) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	944	-3182.69	0.7688
1	946	-3182.38	0.7690
2	945	-3182.40	0.7694
3	945	-3182.40	0.7694
4	945	-3182.40	0.7694
5	945	-3182.40	0.7694
[Info]Training procedure takes 0.23 seconds to finish...
0.06828 -0.12129 0.10037 -0.03669 0.02869 -0.00142 0.03050 0.17015 0.01049 0.13520 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3418, U: 13358
Construct nearest neighbor graph edges in parallel: L: 3418, U: 13358
[5007,6676) finished...
[1669,3338) finished...
[3338,5007) finished...
[0,1669) finished...
[11683,13358) finished...
[6676,8345) finished...
[8345,10014) finished...
[10014,11683) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.040 with accuracy 0.7882...
Iteration 2, converge to 0.000 with accuracy 0.7882...
Iteration 3, converge to 0.000 with accuracy 0.7882...

Query	Docs	P@5	P@10	P@20
Pos	U	0.838	0.809	0.745
Pos	L	0.659	0.637	0.610
Neg	U	0.276	0.317	0.395
Neg	L	0.503	0.515	0.533

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.90 seconds with accuracy 0.7882 and F1 (0:0.755 1:0.814)...
..*
optimization finished, #iter = 22
Objective value = -1173.93
nSV = 2334
Creating cache for labeled documents...
Generate 2274(0:1137) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	917	-3086.18	0.7680
1	918	-3085.40	0.7671
2	916	-3085.33	0.7677
3	916	-3085.33	0.7677
4	916	-3085.33	0.7677
5	916	-3085.33	0.7677
6	916	-3085.33	0.7677
[Info]Training procedure takes 0.27 seconds to finish...
0.05499 -0.12375 0.02618 -0.06792 0.02277 -0.00174 0.00353 0.17293 0.02438 0.09325 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3339, U: 13437
Construct nearest neighbor graph edges in parallel: L: 3339, U: 13437
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13437) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7817...
Iteration 2, converge to 0.000 with accuracy 0.7817...
Iteration 3, converge to 0.000 with accuracy 0.7817...

Query	Docs	P@5	P@10	P@20
Pos	U	0.603	0.595	0.586
Pos	L	0.565	0.548	0.537
Neg	U	0.606	0.604	0.600
Neg	L	0.593	0.603	0.603

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.28 seconds with accuracy 0.7817 and F1 (0:0.752 1:0.805)...
.*.
optimization finished, #iter = 20
Objective value = -1196.44
nSV = 2358
Creating cache for labeled documents...
Generate 2302(0:1151) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	905	-3129.20	0.7751
1	908	-3128.27	0.7746
2	912	-3127.96	0.7730
3	912	-3127.95	0.7730
4	912	-3127.95	0.7730
5	912	-3127.95	0.7730
6	912	-3127.95	0.7730
7	912	-3127.95	0.7730
8	912	-3127.95	0.7730
[Info]Training procedure takes 0.37 seconds to finish...
0.04017 -0.12168 0.05001 -0.01680 0.01669 -0.00186 0.00411 0.16234 0.03053 0.15640 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3272, U: 13504
Construct nearest neighbor graph edges in parallel: L: 3272, U: 13504
[5064,6752) finished...
[1688,3376) finished...
[3376,5064) finished...
[11816,13504) finished...
[0,1688) finished...
[6752,8440) finished...
[8440,10128) finished...
[10128,11816) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7827...
Iteration 2, converge to 0.000 with accuracy 0.7827...
Iteration 3, converge to 0.000 with accuracy 0.7827...

Query	Docs	P@5	P@10	P@20
Pos	U	0.772	0.711	0.658
Pos	L	0.745	0.640	0.582
Neg	U	0.239	0.320	0.413
Neg	L	0.347	0.459	0.526

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.07 seconds with accuracy 0.7827 and F1 (0:0.754 1:0.806)...
.*
optimization finished, #iter = 19
Objective value = -1238.55
nSV = 2441
Creating cache for labeled documents...
Generate 2342(0:1171) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	904	-3174.70	0.7845
1	896	-3174.71	0.7869
2	896	-3174.71	0.7867
3	895	-3174.71	0.7869
4	895	-3174.71	0.7869
5	895	-3174.71	0.7869
6	895	-3174.71	0.7869
[Info]Training procedure takes 0.29 seconds to finish...
0.03514 -0.08180 0.02808 -0.01465 0.01549 -0.00098 0.01942 0.19770 0.00523 0.18111 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3370, U: 13406
Construct nearest neighbor graph edges in parallel: L: 3370, U: 13406
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13406) finished...
[8375,10050) finished...
[6700,8375) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7864...
Iteration 2, converge to 0.000 with accuracy 0.7864...
Iteration 3, converge to 0.000 with accuracy 0.7864...

Query	Docs	P@5	P@10	P@20
Pos	U	0.005	0.031	0.149
Pos	L	0.449	0.420	0.420
Neg	U	0.997	0.976	0.881
Neg	L	0.554	0.613	0.637

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.49 seconds with accuracy 0.7864 and F1 (0:0.756 1:0.810)...
..*
optimization finished, #iter = 22
Objective value = -1215.65
nSV = 2425
Creating cache for labeled documents...
Generate 2386(0:1193) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	971	-3243.43	0.7697
1	973	-3241.49	0.7701
2	970	-3241.27	0.7706
3	970	-3241.27	0.7706
4	970	-3241.26	0.7706
5	970	-3241.26	0.7706
[Info]Training procedure takes 0.25 seconds to finish...
0.05137 -0.10695 0.07365 -0.03496 0.02168 -0.00023 0.02054 0.18207 0.00878 0.15342 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3408, U: 13368
Construct nearest neighbor graph edges in parallel: L: 3408, U: 13368
[5013,6684) finished...
[1671,3342) finished...
[3342,5013) finished...
[0,1671) finished...
[11697,13368) finished...
[8355,10026) finished...
[6684,8355) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7898...
Iteration 2, converge to 0.000 with accuracy 0.7898...
Iteration 3, converge to 0.000 with accuracy 0.7898...

Query	Docs	P@5	P@10	P@20
Pos	U	0.037	0.125	0.232
Pos	L	0.402	0.429	0.451
Neg	U	0.974	0.915	0.838
Neg	L	0.645	0.662	0.654

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.77 seconds with accuracy 0.7898 and F1 (0:0.761 1:0.812)...
.*
optimization finished, #iter = 19
Objective value = -1164.08
nSV = 2396
Creating cache for labeled documents...
Generate 2288(0:1144) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 200, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	912	-3111.61	0.7740
1	909	-3111.86	0.7747
2	909	-3111.87	0.7747
3	909	-3111.87	0.7747
4	909	-3111.87	0.7747
5	909	-3111.87	0.7747
[Info]Training procedure takes 0.24 seconds to finish...
0.03304 -0.08178 0.03184 -0.02645 0.01692 -0.00076 0.01318 0.17716 0.01274 0.15943 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3355, U: 13421
Construct nearest neighbor graph edges in parallel: L: 3355, U: 13421
[5031,6708) finished...
[1677,3354) finished...
[0,1677) finished...
[3354,5031) finished...
[11739,13421) finished...
[8385,10062) finished...
[6708,8385) finished...
[10062,11739) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7871...
Iteration 2, converge to 0.000 with accuracy 0.7871...
Iteration 3, converge to 0.000 with accuracy 0.7871...

Query	Docs	P@5	P@10	P@20
Pos	U	0.975	0.693	0.663
Pos	L	0.488	0.484	0.469
Neg	U	0.030	0.314	0.385
Neg	L	0.587	0.609	0.617

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.28 seconds with accuracy 0.7871 and F1 (0:0.755 1:0.812)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.791+/-0.008)	recall(0.724+/-0.009)
Class 1:	precision(0.784+/-0.006)	recall(0.839+/-0.008)
	0	1	P
0	44371	11754	0.7906
1	16885	61198	0.7838
R	0.7244	0.8389	0.7866
F1	0.7560	0.8104

Query	Docs	P@5	P@10	P@20
Pos	U	0.611	0.525	0.516
Pos	L	0.551	0.512	0.511
Neg	U	0.420	0.511	0.542
Neg	L	0.507	0.563	0.573

