
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 19
Objective value = -1173.25
nSV = 2342
Creating cache for labeled documents...
Generate 2142(0:1071) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	795	-2872.43	0.7827
1	795	-2872.43	0.7827
2	795	-2872.43	0.7827
3	795	-2872.43	0.7827
4	795	-2872.43	0.7827
5	795	-2872.43	0.7827
[Info]Training procedure takes 0.84 seconds to finish...
0.04322 -0.09366 0.00812 0.03670 0.01986 -0.00045 0.01614 0.21059 0.03643 0.23098 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3329, U: 13447
Construct nearest neighbor graph edges in parallel: L: 3329, U: 13447
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[11760,13447) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7881...
Iteration 2, converge to 0.001 with accuracy 0.7881...
Iteration 3, converge to 0.000 with accuracy 0.7881...

Query	Docs	P@5	P@10	P@20
Pos	U	0.147	0.289	0.351
Pos	L	0.451	0.470	0.502
Neg	U	0.811	0.674	0.621
Neg	L	0.529	0.528	0.500

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.40 seconds with accuracy 0.7881 and F1 (0:0.755 1:0.814)...
.*
optimization finished, #iter = 18
Objective value = -1162.30
nSV = 2333
Creating cache for labeled documents...
Generate 2260(0:1130) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	843	-3045.91	0.7838
1	843	-3045.91	0.7838
2	843	-3045.91	0.7838
3	843	-3045.91	0.7838
4	843	-3045.91	0.7838
5	843	-3045.91	0.7838
[Info]Training procedure takes 0.63 seconds to finish...
0.03759 -0.09031 0.06914 0.02650 0.01855 -0.00034 0.04364 0.15704 0.01457 0.23509 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3310, U: 13466
Construct nearest neighbor graph edges in parallel: L: 3310, U: 13466
[5049,6732) finished...
[1683,3366) finished...
[0,1683) finished...
[3366,5049) finished...
[11781,13466) finished...
[6732,8415) finished...
[8415,10098) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7825...
Iteration 2, converge to 0.001 with accuracy 0.7825...
Iteration 3, converge to 0.000 with accuracy 0.7825...

Query	Docs	P@5	P@10	P@20
Pos	U	0.356	0.419	0.430
Pos	L	0.622	0.596	0.582
Neg	U	0.571	0.526	0.531
Neg	L	0.356	0.409	0.437

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.97 seconds with accuracy 0.7825 and F1 (0:0.750 1:0.807)...
.*
optimization finished, #iter = 18
Objective value = -1227.08
nSV = 2407
Creating cache for labeled documents...
Generate 2252(0:1126) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	911	-3069.57	0.7628
1	911	-3069.57	0.7628
2	911	-3069.57	0.7628
3	911	-3069.57	0.7628
4	911	-3069.57	0.7628
5	911	-3069.57	0.7628
[Info]Training procedure takes 0.60 seconds to finish...
0.05690 -0.11037 0.06512 0.00483 0.02471 -0.00076 0.04144 0.15881 -0.01019 0.11575 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3381, U: 13395
Construct nearest neighbor graph edges in parallel: L: 3381, U: 13395
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[11718,13395) finished...
[6696,8370) finished...
[8370,10044) finished...
[10044,11718) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7879...
Iteration 2, converge to 0.000 with accuracy 0.7879...
Iteration 3, converge to 0.000 with accuracy 0.7879...

Query	Docs	P@5	P@10	P@20
Pos	U	0.502	0.467	0.460
Pos	L	0.585	0.527	0.517
Neg	U	0.491	0.556	0.593
Neg	L	0.479	0.525	0.543

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.44 seconds with accuracy 0.7879 and F1 (0:0.758 1:0.811)...
.*.
optimization finished, #iter = 20
Objective value = -1217.81
nSV = 2438
Creating cache for labeled documents...
Generate 2334(0:1167) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	876	-3129.50	0.7794
1	876	-3129.49	0.7794
2	876	-3129.49	0.7794
3	876	-3129.49	0.7794
4	876	-3129.49	0.7794
5	876	-3129.49	0.7794
[Info]Training procedure takes 0.58 seconds to finish...
0.05320 -0.10570 0.02135 0.08977 0.02066 -0.00092 0.03824 0.18290 0.00256 0.20587 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3386, U: 13390
Construct nearest neighbor graph edges in parallel: L: 3386, U: 13390
[5019,6692) finished...
[1673,3346) finished...
[3346,5019) finished...
[0,1673) finished...
[11711,13390) finished...
[6692,8365) finished...
[8365,10038) finished...
[10038,11711) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7913...
Iteration 2, converge to 0.001 with accuracy 0.7913...
Iteration 3, converge to 0.000 with accuracy 0.7913...

Query	Docs	P@5	P@10	P@20
Pos	U	0.418	0.320	0.258
Pos	L	0.568	0.393	0.425
Neg	U	0.576	0.676	0.730
Neg	L	0.449	0.615	0.574

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.89 seconds with accuracy 0.7913 and F1 (0:0.763 1:0.814)...
.*
optimization finished, #iter = 18
Objective value = -1201.26
nSV = 2385
Creating cache for labeled documents...
Generate 2222(0:1111) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	847	-2993.22	0.7835
1	847	-2993.23	0.7835
2	847	-2993.23	0.7835
3	847	-2993.23	0.7835
4	847	-2993.23	0.7835
5	847	-2993.23	0.7835
[Info]Training procedure takes 0.57 seconds to finish...
0.02454 -0.07548 0.04639 0.02872 0.01042 -0.00111 -0.02451 0.18781 -0.00493 0.20725 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3351, U: 13425
Construct nearest neighbor graph edges in parallel: L: 3351, U: 13425
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[3356,5034) finished...
[11746,13425) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7826...
Iteration 2, converge to 0.001 with accuracy 0.7826...
Iteration 3, converge to 0.000 with accuracy 0.7826...

Query	Docs	P@5	P@10	P@20
Pos	U	0.320	0.219	0.202
Pos	L	0.573	0.461	0.406
Neg	U	0.624	0.735	0.775
Neg	L	0.420	0.538	0.587

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.04 seconds with accuracy 0.7826 and F1 (0:0.755 1:0.805)...
.*
optimization finished, #iter = 17
Objective value = -1185.58
nSV = 2353
Creating cache for labeled documents...
Generate 2278(0:1139) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	854	-3057.79	0.7867
1	854	-3057.79	0.7867
2	854	-3057.79	0.7867
3	854	-3057.79	0.7867
4	854	-3057.79	0.7867
5	854	-3057.79	0.7867
[Info]Training procedure takes 0.66 seconds to finish...
0.06633 -0.11070 0.05429 -0.03277 0.02831 -0.00098 0.01563 0.20972 0.03483 0.20116 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3322, U: 13454
Construct nearest neighbor graph edges in parallel: L: 3322, U: 13454
[5043,6724) finished...
[1681,3362) finished...
[3362,5043) finished...
[0,1681) finished...
[11767,13454) finished...
[6724,8405) finished...
[10086,11767) finished...
[8405,10086) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7850...
Iteration 2, converge to 0.000 with accuracy 0.7850...
Iteration 3, converge to 0.000 with accuracy 0.7850...

Query	Docs	P@5	P@10	P@20
Pos	U	0.349	0.308	0.369
Pos	L	0.705	0.585	0.520
Neg	U	0.667	0.709	0.685
Neg	L	0.374	0.510	0.576

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.40 seconds with accuracy 0.7850 and F1 (0:0.751 1:0.811)...
..*
optimization finished, #iter = 21
Objective value = -1186.52
nSV = 2373
Creating cache for labeled documents...
Generate 2306(0:1153) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	920	-3127.15	0.7708
1	920	-3127.14	0.7708
2	920	-3127.14	0.7708
3	920	-3127.14	0.7708
4	920	-3127.14	0.7708
5	920	-3127.14	0.7708
[Info]Training procedure takes 0.65 seconds to finish...
0.05112 -0.11643 0.05730 0.00325 0.02093 -0.00118 0.02875 0.17415 0.03004 0.17310 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3307, U: 13469
Construct nearest neighbor graph edges in parallel: L: 3307, U: 13469
[5049,6732) finished...
[1683,3366) finished...
[3366,5049) finished...
[0,1683) finished...
[11781,13469) finished...
[8415,10098) finished...
[6732,8415) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7848...
Iteration 2, converge to 0.000 with accuracy 0.7848...
Iteration 3, converge to 0.000 with accuracy 0.7848...

Query	Docs	P@5	P@10	P@20
Pos	U	0.472	0.436	0.441
Pos	L	0.616	0.571	0.522
Neg	U	0.589	0.614	0.615
Neg	L	0.453	0.504	0.555

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.11 seconds with accuracy 0.7848 and F1 (0:0.753 1:0.810)...
.*.
optimization finished, #iter = 20
Objective value = -1219.96
nSV = 2430
Creating cache for labeled documents...
Generate 2290(0:1145) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	933	-3099.66	0.7747
1	933	-3099.66	0.7747
2	933	-3099.66	0.7747
3	933	-3099.66	0.7747
4	933	-3099.66	0.7747
5	933	-3099.66	0.7747
[Info]Training procedure takes 0.64 seconds to finish...
0.03915 -0.09730 0.00154 -0.02412 0.01763 -0.00066 0.00758 0.18936 0.01538 0.18629 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3380, U: 13396
Construct nearest neighbor graph edges in parallel: L: 3380, U: 13396
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[6696,8370) finished...
[11718,13396) finished...
[10044,11718) finished...
[8370,10044) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7857...
Iteration 2, converge to 0.000 with accuracy 0.7857...
Iteration 3, converge to 0.000 with accuracy 0.7857...

Query	Docs	P@5	P@10	P@20
Pos	U	0.232	0.365	0.380
Pos	L	0.339	0.362	0.410
Neg	U	0.776	0.644	0.651
Neg	L	0.694	0.698	0.665

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.36 seconds with accuracy 0.7857 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1151.97
nSV = 2345
Creating cache for labeled documents...
Generate 2420(0:1210) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	912	-3230.12	0.7853
1	912	-3230.12	0.7853
2	912	-3230.12	0.7853
3	912	-3230.12	0.7853
4	912	-3230.12	0.7853
5	912	-3230.12	0.7853
[Info]Training procedure takes 0.66 seconds to finish...
0.06068 -0.12759 0.12383 -0.05043 0.02527 -0.00122 0.02735 0.23498 -0.00104 0.20781 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3408, U: 13368
Construct nearest neighbor graph edges in parallel: L: 3408, U: 13368
[5013,6684) finished...
[1671,3342) finished...
[3342,5013) finished...
[0,1671) finished...
[8355,10026) finished...
[11697,13368) finished...
[6684,8355) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7903...
Iteration 2, converge to 0.000 with accuracy 0.7903...
Iteration 3, converge to 0.000 with accuracy 0.7903...

Query	Docs	P@5	P@10	P@20
Pos	U	0.715	0.635	0.584
Pos	L	0.696	0.602	0.552
Neg	U	0.331	0.431	0.510
Neg	L	0.406	0.515	0.568

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.91 seconds with accuracy 0.7903 and F1 (0:0.756 1:0.816)...
.*
optimization finished, #iter = 18
Objective value = -1153.39
nSV = 2334
Creating cache for labeled documents...
Generate 2240(0:1120) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 600, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	840	-3012.11	0.7799
1	840	-3012.11	0.7799
2	840	-3012.11	0.7799
3	840	-3012.11	0.7799
4	840	-3012.11	0.7799
5	840	-3012.11	0.7799
[Info]Training procedure takes 0.57 seconds to finish...
0.05164 -0.09595 0.06895 -0.01420 0.01797 -0.00141 0.00781 0.18546 0.00712 0.23369 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3378, U: 13398
Construct nearest neighbor graph edges in parallel: L: 3378, U: 13398
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[11718,13398) finished...
[6696,8370) finished...
[8370,10044) finished...
[10044,11718) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7835...
Iteration 2, converge to 0.000 with accuracy 0.7835...
Iteration 3, converge to 0.000 with accuracy 0.7835...

Query	Docs	P@5	P@10	P@20
Pos	U	1.000	0.999	0.939
Pos	L	0.769	0.696	0.601
Neg	U	0.000	0.002	0.090
Neg	L	0.249	0.347	0.468

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 128.54 seconds with accuracy 0.7835 and F1 (0:0.750 1:0.809)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.793+/-0.010)	recall(0.720+/-0.010)
Class 1:	precision(0.782+/-0.005)	recall(0.842+/-0.010)
	0	1	P
0	44076	11520	0.7928
1	17180	61432	0.7815
R	0.7195	0.8421	0.7862
F1	0.7544	0.8106

Query	Docs	P@5	P@10	P@20
Pos	U	0.451	0.446	0.441
Pos	L	0.592	0.526	0.504
Neg	U	0.543	0.557	0.580
Neg	L	0.441	0.519	0.547

