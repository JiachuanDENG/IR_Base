
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 17
Objective value = -1190.26
nSV = 2391
Creating cache for labeled documents...
Generate 2294(0:1147) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	884	-3080.11	0.7786
1	883	-3079.80	0.7788
2	883	-3079.80	0.7788
3	883	-3079.80	0.7788
4	883	-3079.80	0.7788
5	883	-3079.80	0.7788
[Info]Training procedure takes 0.63 seconds to finish...
0.05203 -0.11608 0.04097 -0.09264 0.02061 -0.00021 0.01033 0.16706 -0.01016 0.16830 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3373, U: 13403
Construct nearest neighbor graph edges in parallel: L: 3373, U: 13403
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13403) finished...
[6700,8375) finished...
[8375,10050) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7874...
Iteration 2, converge to 0.000 with accuracy 0.7874...
Iteration 3, converge to 0.000 with accuracy 0.7874...

Query	Docs	P@5	P@10	P@20
Pos	U	0.765	0.727	0.638
Pos	L	0.807	0.687	0.613
Neg	U	0.250	0.309	0.446
Neg	L	0.217	0.384	0.474

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.01 seconds with accuracy 0.7874 and F1 (0:0.753 1:0.813)...
.*.
optimization finished, #iter = 20
Objective value = -1230.66
nSV = 2432
Creating cache for labeled documents...
Generate 2292(0:1146) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	922	-3123.84	0.7702
1	922	-3123.91	0.7704
2	923	-3123.91	0.7703
3	923	-3123.91	0.7703
4	923	-3123.91	0.7703
5	923	-3123.91	0.7703
6	923	-3123.91	0.7703
[Info]Training procedure takes 0.42 seconds to finish...
0.05684 -0.09311 0.03603 -0.01683 0.01911 -0.00093 0.01495 0.15029 -0.02188 0.16168 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3422, U: 13354
Construct nearest neighbor graph edges in parallel: L: 3422, U: 13354
[5007,6676) finished...
[1669,3338) finished...
[3338,5007) finished...
[0,1669) finished...
[11683,13354) finished...
[6676,8345) finished...
[8345,10014) finished...
[10014,11683) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7879...
Iteration 2, converge to 0.000 with accuracy 0.7879...
Iteration 3, converge to 0.000 with accuracy 0.7879...

Query	Docs	P@5	P@10	P@20
Pos	U	0.695	0.696	0.726
Pos	L	0.599	0.587	0.539
Neg	U	0.298	0.315	0.324
Neg	L	0.403	0.455	0.530

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.89 seconds with accuracy 0.7879 and F1 (0:0.756 1:0.812)...
.*.
optimization finished, #iter = 20
Objective value = -1178.69
nSV = 2360
Creating cache for labeled documents...
Generate 2272(0:1136) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	894	-3081.02	0.7810
1	895	-3078.68	0.7809
2	895	-3078.68	0.7809
3	895	-3078.68	0.7809
4	895	-3078.68	0.7809
5	895	-3078.68	0.7809
6	895	-3078.68	0.7809
[Info]Training procedure takes 0.42 seconds to finish...
0.04129 -0.08264 0.02627 0.05169 0.01817 -0.00154 0.02212 0.17013 0.01953 0.20092 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3334, U: 13442
Construct nearest neighbor graph edges in parallel: L: 3334, U: 13442
[5040,6720) finished...
[1680,3360) finished...
[3360,5040) finished...
[0,1680) finished...
[11760,13442) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7869...
Iteration 2, converge to 0.001 with accuracy 0.7869...
Iteration 3, converge to 0.000 with accuracy 0.7869...

Query	Docs	P@5	P@10	P@20
Pos	U	0.572	0.297	0.310
Pos	L	0.520	0.316	0.384
Neg	U	0.439	0.704	0.708
Neg	L	0.501	0.681	0.622

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.72 seconds with accuracy 0.7869 and F1 (0:0.755 1:0.811)...
..*
optimization finished, #iter = 29
Objective value = -1129.50
nSV = 2287
Creating cache for labeled documents...
Generate 2310(0:1155) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	838	-3085.08	0.7891
1	839	-3085.04	0.7890
2	839	-3085.04	0.7890
3	839	-3085.04	0.7890
4	839	-3085.04	0.7890
5	839	-3085.04	0.7890
6	839	-3085.04	0.7890
[Info]Training procedure takes 0.37 seconds to finish...
0.07156 -0.10237 0.11314 0.01773 0.02991 -0.00012 0.03164 0.20992 0.00011 0.22083 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3257, U: 13519
Construct nearest neighbor graph edges in parallel: L: 3257, U: 13519
[5067,6756) finished...
[1689,3378) finished...
[0,1689) finished...
[3378,5067) finished...
[11823,13519) finished...
[6756,8445) finished...
[8445,10134) finished...
[10134,11823) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7808...
Iteration 2, converge to 0.000 with accuracy 0.7808...
Iteration 3, converge to 0.000 with accuracy 0.7808...

Query	Docs	P@5	P@10	P@20
Pos	U	0.620	0.521	0.480
Pos	L	0.566	0.488	0.402
Neg	U	0.318	0.425	0.496
Neg	L	0.441	0.524	0.608

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.35 seconds with accuracy 0.7808 and F1 (0:0.751 1:0.804)...
...*
optimization finished, #iter = 34
Objective value = -1179.01
nSV = 2360
Creating cache for labeled documents...
Generate 2350(0:1175) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	825	-3098.74	0.7941
1	825	-3098.74	0.7941
2	825	-3098.74	0.7941
3	825	-3098.74	0.7941
4	825	-3098.74	0.7941
5	825	-3098.74	0.7941
[Info]Training procedure takes 0.33 seconds to finish...
0.07740 -0.12555 0.10776 0.04818 0.03365 -0.00068 0.03646 0.22591 0.00321 0.27624 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3355, U: 13421
Construct nearest neighbor graph edges in parallel: L: 3355, U: 13421
[5031,6708) finished...
[1677,3354) finished...
[3354,5031) finished...
[0,1677) finished...
[6708,8385) finished...
[11739,13421) finished...
[8385,10062) finished...
[10062,11739) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7859...
Iteration 2, converge to 0.001 with accuracy 0.7859...
Iteration 3, converge to 0.000 with accuracy 0.7859...

Query	Docs	P@5	P@10	P@20
Pos	U	0.604	0.541	0.491
Pos	L	0.682	0.563	0.452
Neg	U	0.377	0.426	0.478
Neg	L	0.335	0.434	0.553

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.90 seconds with accuracy 0.7859 and F1 (0:0.757 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1192.45
nSV = 2362
Creating cache for labeled documents...
Generate 2240(0:1120) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	769	-2969.25	0.7968
1	773	-2970.28	0.7960
2	773	-2970.28	0.7960
3	773	-2970.28	0.7960
4	773	-2970.28	0.7960
5	773	-2970.28	0.7960
6	773	-2970.28	0.7960
[Info]Training procedure takes 0.33 seconds to finish...
0.04847 -0.10754 0.08196 0.01962 0.01976 -0.00022 0.01154 0.17620 0.02484 0.31879 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3321, U: 13455
Construct nearest neighbor graph edges in parallel: L: 3321, U: 13455
[5043,6724) finished...
[1681,3362) finished...
[0,1681) finished...
[3362,5043) finished...
[11767,13455) finished...
[8405,10086) finished...
[6724,8405) finished...
[10086,11767) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7885...
Iteration 2, converge to 0.000 with accuracy 0.7885...
Iteration 3, converge to 0.000 with accuracy 0.7885...

Query	Docs	P@5	P@10	P@20
Pos	U	0.382	0.327	0.265
Pos	L	0.687	0.524	0.437
Neg	U	0.636	0.695	0.753
Neg	L	0.302	0.480	0.576

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.13 seconds with accuracy 0.7885 and F1 (0:0.759 1:0.812)...
....**
optimization finished, #iter = 49
Objective value = -1153.15
nSV = 2313
Creating cache for labeled documents...
Generate 2242(0:1121) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	883	-3029.52	0.7706
1	883	-3028.90	0.7704
2	883	-3028.90	0.7704
3	883	-3028.90	0.7704
4	883	-3028.90	0.7704
5	883	-3028.90	0.7704
6	883	-3028.90	0.7704
[Info]Training procedure takes 0.34 seconds to finish...
0.02311 -0.07180 0.02079 0.06079 0.01115 -0.00060 0.01854 0.16576 -0.00161 0.20873 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3282, U: 13494
Construct nearest neighbor graph edges in parallel: L: 3282, U: 13494
[5058,6744) finished...
[1686,3372) finished...
[3372,5058) finished...
[0,1686) finished...
[11802,13494) finished...
[6744,8430) finished...
[8430,10116) finished...
[10116,11802) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.052 with accuracy 0.7875...
Iteration 2, converge to 0.001 with accuracy 0.7875...
Iteration 3, converge to 0.000 with accuracy 0.7875...

Query	Docs	P@5	P@10	P@20
Pos	U	0.436	0.271	0.273
Pos	L	0.410	0.445	0.431
Neg	U	0.547	0.700	0.701
Neg	L	0.573	0.558	0.563

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.86 seconds with accuracy 0.7875 and F1 (0:0.757 1:0.811)...
..*
optimization finished, #iter = 22
Objective value = -1204.18
nSV = 2430
Creating cache for labeled documents...
Generate 2388(0:1194) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	911	-3206.16	0.7779
1	914	-3206.74	0.7773
2	914	-3206.74	0.7773
3	914	-3206.74	0.7773
4	914	-3206.74	0.7773
5	914	-3206.74	0.7773
6	914	-3206.74	0.7773
[Info]Training procedure takes 0.41 seconds to finish...
0.05618 -0.11482 0.06047 0.03149 0.02249 -0.00089 0.01281 0.22369 0.00238 0.17715 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3400, U: 13376
Construct nearest neighbor graph edges in parallel: L: 3400, U: 13376
[5016,6688) finished...
[1672,3344) finished...
[0,1672) finished...
[3344,5016) finished...
[11704,13376) finished...
[8360,10032) finished...
[6688,8360) finished...
[10032,11704) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7884...
Iteration 2, converge to 0.001 with accuracy 0.7884...
Iteration 3, converge to 0.000 with accuracy 0.7884...

Query	Docs	P@5	P@10	P@20
Pos	U	0.615	0.415	0.407
Pos	L	0.356	0.455	0.492
Neg	U	0.370	0.570	0.584
Neg	L	0.647	0.569	0.525

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.41 seconds with accuracy 0.7884 and F1 (0:0.755 1:0.814)...
.*.
optimization finished, #iter = 20
Objective value = -1253.32
nSV = 2483
Creating cache for labeled documents...
Generate 2410(0:1205) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	951	-3280.24	0.7780
1	952	-3278.11	0.7773
2	952	-3278.10	0.7773
3	952	-3278.10	0.7773
4	952	-3278.10	0.7773
5	952	-3278.10	0.7773
6	952	-3278.10	0.7773
[Info]Training procedure takes 0.38 seconds to finish...
0.02675 -0.06822 0.00212 -0.04087 0.01215 -0.00125 -0.00584 0.18697 0.04393 0.14108 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3432, U: 13344
Construct nearest neighbor graph edges in parallel: L: 3432, U: 13344
[5004,6672) finished...
[1668,3336) finished...
[0,1668) finished...
[3336,5004) finished...
[11676,13344) finished...
[6672,8340) finished...
[8340,10008) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7866...
Iteration 2, converge to 0.000 with accuracy 0.7866...
Iteration 3, converge to 0.000 with accuracy 0.7866...

Query	Docs	P@5	P@10	P@20
Pos	U	0.932	0.791	0.679
Pos	L	0.587	0.541	0.496
Neg	U	0.100	0.272	0.396
Neg	L	0.486	0.538	0.577

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.20 seconds with accuracy 0.7866 and F1 (0:0.753 1:0.812)...
.*.
optimization finished, #iter = 20
Objective value = -1193.48
nSV = 2385
Creating cache for labeled documents...
Generate 2198(0:1099) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 300, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	915	-2987.90	0.7607
1	915	-2987.46	0.7609
2	915	-2987.46	0.7609
3	915	-2987.46	0.7609
4	915	-2987.46	0.7609
5	915	-2987.46	0.7609
[Info]Training procedure takes 0.28 seconds to finish...
0.02785 -0.07485 0.04091 -0.04902 0.01045 -0.00040 0.02213 0.17388 0.04937 0.13183 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3376, U: 13400
Construct nearest neighbor graph edges in parallel: L: 3376, U: 13400
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13400) finished...
[6700,8375) finished...
[8375,10050) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7849...
Iteration 2, converge to 0.000 with accuracy 0.7849...
Iteration 3, converge to 0.000 with accuracy 0.7849...

Query	Docs	P@5	P@10	P@20
Pos	U	0.527	0.575	0.562
Pos	L	0.567	0.551	0.546
Neg	U	0.551	0.525	0.546
Neg	L	0.510	0.546	0.556

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.91 seconds with accuracy 0.7849 and F1 (0:0.754 1:0.809)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.793+/-0.007)	recall(0.721+/-0.006)
Class 1:	precision(0.782+/-0.003)	recall(0.841+/-0.007)
	0	1	P
0	44164	11569	0.7924
1	17092	61383	0.7822
R	0.7210	0.8414	0.7864
F1	0.7550	0.8107

Query	Docs	P@5	P@10	P@20
Pos	U	0.615	0.516	0.483
Pos	L	0.578	0.516	0.479
Neg	U	0.389	0.494	0.543
Neg	L	0.441	0.517	0.558

