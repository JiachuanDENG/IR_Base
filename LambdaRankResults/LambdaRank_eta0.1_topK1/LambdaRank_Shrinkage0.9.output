
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
..*
optimization finished, #iter = 21
Objective value = -1163.91
nSV = 2387
Creating cache for labeled documents...
Generate 2382(0:1191) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	892	-3194.32	0.7860
1	892	-3194.32	0.7860
2	892	-3194.32	0.7860
3	892	-3194.32	0.7860
4	892	-3194.32	0.7860
5	892	-3194.32	0.7860
[Info]Training procedure takes 0.32 seconds to finish...
0.05986 -0.12594 0.11869 -0.00774 0.02588 -0.00143 0.05213 0.24240 0.03236 0.14759 -0.01086 
Construct nearest neighbor graph nodes in parallel: L: 3363, U: 13413
Construct nearest neighbor graph edges in parallel: L: 3363, U: 13413
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13413) finished...
[6704,8380) finished...
[10056,11732) finished...
[8380,10056) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7812...
Iteration 2, converge to 0.000 with accuracy 0.7812...
Iteration 3, converge to 0.000 with accuracy 0.7812...

Query	Docs	P@5	P@10	P@20
Pos	U	0.585	0.570	0.573
Pos	L	0.587	0.574	0.563
Neg	U	0.596	0.595	0.594
Neg	L	0.576	0.586	0.591

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.88 seconds with accuracy 0.7812 and F1 (0:0.748 1:0.807)...
..*
optimization finished, #iter = 24
Objective value = -1151.07
nSV = 2345
Creating cache for labeled documents...
Generate 2364(0:1182) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	873	-3189.17	0.7854
1	873	-3189.18	0.7854
2	873	-3189.18	0.7854
3	873	-3189.18	0.7854
4	873	-3189.18	0.7854
5	873	-3189.18	0.7854
[Info]Training procedure takes 0.17 seconds to finish...
0.04107 -0.08522 0.09552 0.01413 0.02435 -0.00556 0.00244 0.20444 -0.00313 0.18220 -0.00281 
Construct nearest neighbor graph nodes in parallel: L: 3311, U: 13465
Construct nearest neighbor graph edges in parallel: L: 3311, U: 13465
[5049,6732) finished...
[1683,3366) finished...
[3366,5049) finished...
[0,1683) finished...
[11781,13465) finished...
[6732,8415) finished...
[8415,10098) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7906...
Iteration 2, converge to 0.000 with accuracy 0.7906...
Iteration 3, converge to 0.000 with accuracy 0.7906...

Query	Docs	P@5	P@10	P@20
Pos	U	0.584	0.477	0.440
Pos	L	0.769	0.649	0.594
Neg	U	0.469	0.578	0.616
Neg	L	0.282	0.384	0.449

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.19 seconds with accuracy 0.7906 and F1 (0:0.760 1:0.814)...
.*.
optimization finished, #iter = 20
Objective value = -1168.28
nSV = 2355
Creating cache for labeled documents...
Generate 2186(0:1093) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	895	-2969.64	0.7582
1	895	-2969.65	0.7582
2	895	-2969.65	0.7582
3	895	-2969.65	0.7582
4	895	-2969.65	0.7582
5	895	-2969.65	0.7582
[Info]Training procedure takes 0.14 seconds to finish...
0.03829 -0.07119 0.03333 0.02624 0.00558 0.00308 0.04016 0.17945 0.01558 0.17322 -0.00063 
Construct nearest neighbor graph nodes in parallel: L: 3335, U: 13441
Construct nearest neighbor graph edges in parallel: L: 3335, U: 13441
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[11760,13441) finished...
[3360,5040) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7862...
Iteration 2, converge to 0.000 with accuracy 0.7862...
Iteration 3, converge to 0.000 with accuracy 0.7862...

Query	Docs	P@5	P@10	P@20
Pos	U	0.429	0.345	0.391
Pos	L	0.340	0.433	0.435
Neg	U	0.556	0.646	0.610
Neg	L	0.647	0.580	0.577

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.98 seconds with accuracy 0.7862 and F1 (0:0.755 1:0.810)...
.*
optimization finished, #iter = 18
Objective value = -1189.87
nSV = 2373
Creating cache for labeled documents...
Generate 2188(0:1094) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	843	-2964.40	0.7849
1	843	-2964.40	0.7849
2	843	-2964.40	0.7849
3	843	-2964.40	0.7849
4	843	-2964.40	0.7849
5	843	-2964.40	0.7849
[Info]Training procedure takes 0.13 seconds to finish...
0.03619 -0.07308 0.02059 -0.03452 0.02136 -0.01982 0.02104 0.17780 0.04374 0.17701 0.01474 
Construct nearest neighbor graph nodes in parallel: L: 3329, U: 13447
Construct nearest neighbor graph edges in parallel: L: 3329, U: 13447
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[6720,8400) finished...
[8400,10080) finished...
[11760,13447) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7854...
Iteration 2, converge to 0.000 with accuracy 0.7854...
Iteration 3, converge to 0.000 with accuracy 0.7854...

Query	Docs	P@5	P@10	P@20
Pos	U	0.745	0.681	0.644
Pos	L	0.503	0.485	0.478
Neg	U	0.265	0.328	0.401
Neg	L	0.539	0.579	0.593

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.90 seconds with accuracy 0.7854 and F1 (0:0.750 1:0.812)...
.*
optimization finished, #iter = 17
Objective value = -1191.09
nSV = 2385
Creating cache for labeled documents...
Generate 2310(0:1155) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	937	-3151.46	0.7784
1	937	-3151.45	0.7784
2	937	-3151.45	0.7784
3	937	-3151.45	0.7784
4	937	-3151.45	0.7784
5	937	-3151.45	0.7784
[Info]Training procedure takes 0.15 seconds to finish...
0.03714 -0.09569 0.02304 0.00431 0.01460 0.00509 0.01690 0.15853 0.02947 0.15171 -0.00105 
Construct nearest neighbor graph nodes in parallel: L: 3369, U: 13407
Construct nearest neighbor graph edges in parallel: L: 3369, U: 13407
[5025,6700) finished...
[1675,3350) finished...
[3350,5025) finished...
[0,1675) finished...
[11725,13407) finished...
[6700,8375) finished...
[8375,10050) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7878...
Iteration 2, converge to 0.000 with accuracy 0.7878...
Iteration 3, converge to 0.000 with accuracy 0.7878...

Query	Docs	P@5	P@10	P@20
Pos	U	0.923	0.854	0.733
Pos	L	0.425	0.430	0.477
Neg	U	0.056	0.138	0.284
Neg	L	0.553	0.591	0.578

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 128.16 seconds with accuracy 0.7878 and F1 (0:0.757 1:0.812)...
..*
optimization finished, #iter = 26
Objective value = -1177.03
nSV = 2414
Creating cache for labeled documents...
Generate 2292(0:1146) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	939	-3123.62	0.7725
1	939	-3123.63	0.7725
2	939	-3123.63	0.7725
3	939	-3123.63	0.7725
4	939	-3123.63	0.7725
5	939	-3123.63	0.7725
[Info]Training procedure takes 0.15 seconds to finish...
0.03833 -0.10014 -0.00135 0.03713 0.01440 0.00404 0.01211 0.14091 0.02169 0.14427 -0.00045 
Construct nearest neighbor graph nodes in parallel: L: 3414, U: 13362
Construct nearest neighbor graph edges in parallel: L: 3414, U: 13362
[5010,6680) finished...
[1670,3340) finished...
[0,1670) finished...
[3340,5010) finished...
[11690,13362) finished...
[10020,11690) finished...
[8350,10020) finished...
[6680,8350) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7873...
Iteration 2, converge to 0.001 with accuracy 0.7873...
Iteration 3, converge to 0.000 with accuracy 0.7873...

Query	Docs	P@5	P@10	P@20
Pos	U	0.417	0.327	0.261
Pos	L	0.482	0.425	0.449
Neg	U	0.575	0.661	0.723
Neg	L	0.535	0.572	0.557

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.72 seconds with accuracy 0.7873 and F1 (0:0.757 1:0.811)...
.*.
optimization finished, #iter = 20
Objective value = -1228.62
nSV = 2428
Creating cache for labeled documents...
Generate 2358(0:1179) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	969	-3210.35	0.7681
1	969	-3210.35	0.7681
2	969	-3210.35	0.7681
3	969	-3210.35	0.7681
4	969	-3210.35	0.7681
5	969	-3210.35	0.7681
[Info]Training procedure takes 0.14 seconds to finish...
0.03121 -0.07739 0.04794 -0.02255 0.01817 -0.00237 -0.01355 0.13172 0.01794 0.19308 0.00253 
Construct nearest neighbor graph nodes in parallel: L: 3407, U: 13369
Construct nearest neighbor graph edges in parallel: L: 3407, U: 13369
[5013,6684) finished...
[1671,3342) finished...
[0,1671) finished...
[3342,5013) finished...
[11697,13369) finished...
[6684,8355) finished...
[8355,10026) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7859...
Iteration 2, converge to 0.000 with accuracy 0.7859...
Iteration 3, converge to 0.000 with accuracy 0.7859...

Query	Docs	P@5	P@10	P@20
Pos	U	0.999	0.891	0.753
Pos	L	0.697	0.669	0.564
Neg	U	0.001	0.113	0.270
Neg	L	0.315	0.359	0.479

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.17 seconds with accuracy 0.7859 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1227.47
nSV = 2446
Creating cache for labeled documents...
Generate 2400(0:1200) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	932	-3222.62	0.7785
1	932	-3222.63	0.7785
2	932	-3222.63	0.7785
3	932	-3222.63	0.7785
4	932	-3222.63	0.7785
5	932	-3222.63	0.7785
[Info]Training procedure takes 0.16 seconds to finish...
0.04643 -0.11451 0.09031 0.03768 0.02121 -0.00518 0.06145 0.20834 -0.00114 0.19210 0.00669 
Construct nearest neighbor graph nodes in parallel: L: 3418, U: 13358
Construct nearest neighbor graph edges in parallel: L: 3418, U: 13358
[5007,6676) finished...
[1669,3338) finished...
[0,1669) finished...
[3338,5007) finished...
[11683,13358) finished...
[6676,8345) finished...
[10014,11683) finished...
[8345,10014) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7889...
Iteration 2, converge to 0.001 with accuracy 0.7889...
Iteration 3, converge to 0.000 with accuracy 0.7889...

Query	Docs	P@5	P@10	P@20
Pos	U	0.258	0.259	0.261
Pos	L	0.784	0.701	0.488
Neg	U	0.721	0.734	0.732
Neg	L	0.215	0.314	0.514

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.25 seconds with accuracy 0.7889 and F1 (0:0.763 1:0.810)...
..*
optimization finished, #iter = 21
Objective value = -1190.78
nSV = 2354
Creating cache for labeled documents...
Generate 2294(0:1147) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	854	-3072.98	0.7791
1	854	-3072.97	0.7791
2	854	-3072.97	0.7791
3	854	-3072.97	0.7791
4	854	-3072.97	0.7791
5	854	-3072.97	0.7791
[Info]Training procedure takes 0.13 seconds to finish...
0.04185 -0.09777 0.06114 -0.00157 0.02061 0.00606 0.02335 0.19882 0.01226 0.25566 0.00388 
Construct nearest neighbor graph nodes in parallel: L: 3302, U: 13474
Construct nearest neighbor graph edges in parallel: L: 3302, U: 13474
[5052,6736) finished...
[1684,3368) finished...
[0,1684) finished...
[11788,13474) finished...
[3368,5052) finished...
[6736,8420) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7886...
Iteration 2, converge to 0.000 with accuracy 0.7886...
Iteration 3, converge to 0.000 with accuracy 0.7886...

Query	Docs	P@5	P@10	P@20
Pos	U	0.999	0.904	0.831
Pos	L	0.800	0.651	0.543
Neg	U	0.002	0.096	0.187
Neg	L	0.240	0.420	0.526

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.10 seconds with accuracy 0.7886 and F1 (0:0.760 1:0.811)...
...*
optimization finished, #iter = 31
Objective value = -1179.39
nSV = 2373
Creating cache for labeled documents...
Generate 2256(0:1128) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.900, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	798	-2996.48	0.7914
1	798	-2996.48	0.7914
2	798	-2996.48	0.7914
3	798	-2996.48	0.7914
4	798	-2996.48	0.7914
5	798	-2996.48	0.7914
[Info]Training procedure takes 0.14 seconds to finish...
0.06430 -0.13268 0.11864 -0.05246 0.02826 0.00064 0.06542 0.17367 0.02731 0.25995 -0.00921 
Construct nearest neighbor graph nodes in parallel: L: 3304, U: 13472
Construct nearest neighbor graph edges in parallel: L: 3304, U: 13472
[5052,6736) finished...
[1684,3368) finished...
[0,1684) finished...
[3368,5052) finished...
[11788,13472) finished...
[6736,8420) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7867...
Iteration 2, converge to 0.000 with accuracy 0.7867...
Iteration 3, converge to 0.000 with accuracy 0.7867...

Query	Docs	P@5	P@10	P@20
Pos	U	0.994	0.910	0.729
Pos	L	0.834	0.733	0.644
Neg	U	0.004	0.098	0.330
Neg	L	0.187	0.341	0.458

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.80 seconds with accuracy 0.7867 and F1 (0:0.756 1:0.810)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.791+/-0.007)	recall(0.724+/-0.012)
Class 1:	precision(0.784+/-0.007)	recall(0.840+/-0.008)
	0	1	P
0	44350	11699	0.7913
1	16906	61253	0.7837
R	0.7240	0.8396	0.7869
F1	0.7561	0.8107

Query	Docs	P@5	P@10	P@20
Pos	U	0.693	0.622	0.562
Pos	L	0.622	0.575	0.524
Neg	U	0.324	0.399	0.475
Neg	L	0.409	0.473	0.532

