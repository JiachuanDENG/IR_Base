
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 18
Objective value = -1186.43
nSV = 2393
Creating cache for labeled documents...
Generate 2280(0:1140) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	966	-3102.43	0.7571
1	953	-3099.91	0.7613
2	952	-3099.56	0.7615
3	953	-3099.51	0.7613
4	953	-3099.51	0.7613
5	953	-3099.51	0.7613
6	953	-3099.51	0.7613
[Info]Training procedure takes 0.38 seconds to finish...
-0.10740 -0.10435 0.06971 -0.02053 -0.11238 -0.09930 0.00472 0.27449 -0.02252 0.06655 -0.10402 
Construct nearest neighbor graph nodes in parallel: L: 3381, U: 13395
Construct nearest neighbor graph edges in parallel: L: 3381, U: 13395
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[11718,13395) finished...
[6696,8370) finished...
[10044,11718) finished...
[8370,10044) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7886...
Iteration 2, converge to 0.000 with accuracy 0.7886...
Iteration 3, converge to 0.000 with accuracy 0.7886...

Query	Docs	P@5	P@10	P@20
Pos	U	0.507	0.522	0.544
Pos	L	0.560	0.560	0.560
Neg	U	0.648	0.627	0.606
Neg	L	0.599	0.591	0.581

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.04 seconds with accuracy 0.7886 and F1 (0:0.759 1:0.812)...
.*.
optimization finished, #iter = 20
Objective value = -1194.29
nSV = 2403
Creating cache for labeled documents...
Generate 2224(0:1112) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	927	-3015.67	0.7632
1	927	-3008.80	0.7650
2	925	-3008.12	0.7654
3	925	-3008.03	0.7654
4	925	-3008.02	0.7654
5	925	-3008.02	0.7654
[Info]Training procedure takes 0.17 seconds to finish...
0.07248 -0.02078 0.07425 -0.04506 0.05785 0.03726 0.07045 0.15859 0.05551 0.18566 -0.14156 
Construct nearest neighbor graph nodes in parallel: L: 3420, U: 13356
Construct nearest neighbor graph edges in parallel: L: 3420, U: 13356
[5007,6676) finished...
[1669,3338) finished...
[11683,13356) finished...
[3338,5007) finished...
[0,1669) finished...
[6676,8345) finished...
[8345,10014) finished...
[10014,11683) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7907...
Iteration 2, converge to 0.000 with accuracy 0.7907...
Iteration 3, converge to 0.000 with accuracy 0.7907...

Query	Docs	P@5	P@10	P@20
Pos	U	0.995	0.970	0.877
Pos	L	0.537	0.540	0.540
Neg	U	0.006	0.041	0.172
Neg	L	0.563	0.578	0.576

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.31 seconds with accuracy 0.7907 and F1 (0:0.761 1:0.814)...
.*
optimization finished, #iter = 19
Objective value = -1150.19
nSV = 2341
Creating cache for labeled documents...
Generate 2286(0:1143) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	731	-3006.89	0.8096
1	721	-2999.73	0.8126
2	725	-2998.88	0.8120
3	726	-2998.79	0.8119
4	726	-2998.77	0.8119
5	726	-2998.77	0.8119
6	726	-2998.77	0.8119
7	726	-2998.77	0.8119
8	726	-2998.77	0.8119
[Info]Training procedure takes 0.24 seconds to finish...
-0.07566 -0.10940 0.01379 -0.05549 0.13853 -0.03589 -0.02592 0.22966 -0.03989 0.31898 -0.08270 
Construct nearest neighbor graph nodes in parallel: L: 3353, U: 13423
Construct nearest neighbor graph edges in parallel: L: 3353, U: 13423
[5031,6708) finished...
[1677,3354) finished...
[0,1677) finished...
[11739,13423) finished...
[3354,5031) finished...
[6708,8385) finished...
[8385,10062) finished...
[10062,11739) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7852...
Iteration 2, converge to 0.000 with accuracy 0.7852...
Iteration 3, converge to 0.000 with accuracy 0.7852...

Query	Docs	P@5	P@10	P@20
Pos	U	0.400	0.200	0.223
Pos	L	0.554	0.488	0.454
Neg	U	0.600	0.800	0.781
Neg	L	0.454	0.558	0.600

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.00 seconds with accuracy 0.7852 and F1 (0:0.752 1:0.810)...
.*
optimization finished, #iter = 18
Objective value = -1154.27
nSV = 2341
Creating cache for labeled documents...
Generate 2246(0:1123) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	793	-2919.15	0.7903
1	796	-2928.87	0.7892
2	797	-2929.89	0.7890
3	798	-2930.01	0.7886
4	798	-2930.02	0.7886
5	798	-2930.03	0.7886
6	798	-2930.03	0.7886
7	798	-2930.03	0.7886
8	798	-2930.03	0.7886
9	798	-2930.03	0.7886
[Info]Training procedure takes 0.23 seconds to finish...
0.00021 -0.14578 -0.04184 -0.07248 -0.01880 -0.10400 0.13786 0.35022 0.14101 0.30239 0.09403 
Construct nearest neighbor graph nodes in parallel: L: 3289, U: 13487
Construct nearest neighbor graph edges in parallel: L: 3289, U: 13487
[5055,6740) finished...
[1685,3370) finished...
[3370,5055) finished...
[0,1685) finished...
[11795,13487) finished...
[6740,8425) finished...
[8425,10110) finished...
[10110,11795) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7855...
Iteration 2, converge to 0.000 with accuracy 0.7855...
Iteration 3, converge to 0.000 with accuracy 0.7855...

Query	Docs	P@5	P@10	P@20
Pos	U	0.467	0.372	0.393
Pos	L	0.635	0.576	0.530
Neg	U	0.554	0.666	0.667
Neg	L	0.414	0.507	0.555

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.89 seconds with accuracy 0.7855 and F1 (0:0.753 1:0.811)...
..*
optimization finished, #iter = 21
Objective value = -1163.27
nSV = 2357
Creating cache for labeled documents...
Generate 2236(0:1118) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	925	-3021.38	0.7575
1	914	-3021.81	0.7613
2	913	-3021.87	0.7615
3	911	-3021.88	0.7619
4	911	-3021.89	0.7619
5	911	-3021.89	0.7619
[Info]Training procedure takes 0.14 seconds to finish...
0.19092 -0.24422 0.09655 -0.06227 0.04612 0.05517 0.17445 0.15133 0.26574 0.17989 0.01886 
Construct nearest neighbor graph nodes in parallel: L: 3324, U: 13452
Construct nearest neighbor graph edges in parallel: L: 3324, U: 13452
[5043,6724) finished...
[1681,3362) finished...
[3362,5043) finished...
[0,1681) finished...
[11767,13452) finished...
[8405,10086) finished...
[6724,8405) finished...
[10086,11767) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.036 with accuracy 0.7852...
Iteration 2, converge to 0.000 with accuracy 0.7852...
Iteration 3, converge to 0.000 with accuracy 0.7852...

Query	Docs	P@5	P@10	P@20
Pos	U	0.714	0.696	0.676
Pos	L	0.672	0.657	0.643
Neg	U	0.544	0.548	0.557
Neg	L	0.579	0.574	0.568

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.34 seconds with accuracy 0.7852 and F1 (0:0.756 1:0.808)...
..*
optimization finished, #iter = 28
Objective value = -1194.84
nSV = 2362
Creating cache for labeled documents...
Generate 2232(0:1116) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1002	-3076.20	0.7528
1	982	-3071.92	0.7572
2	979	-3071.47	0.7578
3	980	-3071.41	0.7576
4	980	-3071.40	0.7576
5	980	-3071.40	0.7576
6	980	-3071.40	0.7576
[Info]Training procedure takes 0.16 seconds to finish...
-0.07043 0.05221 0.06605 -0.03858 0.14093 0.12293 0.08239 0.07070 0.10106 0.13377 0.00231 
Construct nearest neighbor graph nodes in parallel: L: 3335, U: 13441
Construct nearest neighbor graph edges in parallel: L: 3335, U: 13441
[5040,6720) finished...
[1680,3360) finished...
[3360,5040) finished...
[0,1680) finished...
[11760,13441) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7846...
Iteration 2, converge to 0.000 with accuracy 0.7846...
Iteration 3, converge to 0.000 with accuracy 0.7846...

Query	Docs	P@5	P@10	P@20
Pos	U	0.418	0.568	0.548
Pos	L	0.694	0.620	0.556
Neg	U	0.582	0.441	0.510
Neg	L	0.357	0.436	0.509

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.20 seconds with accuracy 0.7846 and F1 (0:0.756 1:0.808)...
..*
optimization finished, #iter = 21
Objective value = -1195.05
nSV = 2372
Creating cache for labeled documents...
Generate 2252(0:1126) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1045	-3106.29	0.7514
1	1004	-3097.51	0.7580
2	999	-3096.71	0.7607
3	997	-3096.63	0.7614
4	998	-3096.62	0.7612
5	998	-3096.62	0.7612
6	998	-3096.62	0.7612
[Info]Training procedure takes 0.15 seconds to finish...
-0.14418 -0.04186 0.03306 0.00850 -0.11163 -0.01863 -0.07675 -0.01186 0.08754 0.14627 -0.13130 
Construct nearest neighbor graph nodes in parallel: L: 3292, U: 13484
Construct nearest neighbor graph edges in parallel: L: 3292, U: 13484
[5055,6740) finished...
[1685,3370) finished...
[3370,5055) finished...
[0,1685) finished...
[11795,13484) finished...
[8425,10110) finished...
[6740,8425) finished...
[10110,11795) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.055 with accuracy 0.7868...
Iteration 2, converge to 0.001 with accuracy 0.7868...
Iteration 3, converge to 0.000 with accuracy 0.7868...

Query	Docs	P@5	P@10	P@20
Pos	U	0.559	0.501	0.410
Pos	L	0.352	0.309	0.359
Neg	U	0.323	0.387	0.512
Neg	L	0.594	0.656	0.619

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.72 seconds with accuracy 0.7868 and F1 (0:0.758 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1207.34
nSV = 2374
Creating cache for labeled documents...
Generate 2290(0:1145) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	813	-3084.81	0.7928
1	819	-3072.25	0.7905
2	822	-3069.35	0.7900
3	821	-3068.96	0.7902
4	821	-3068.92	0.7902
5	821	-3068.91	0.7902
6	821	-3068.91	0.7902
7	821	-3068.91	0.7902
8	821	-3068.91	0.7902
[Info]Training procedure takes 0.22 seconds to finish...
-0.02990 -0.14893 -0.02122 0.06552 0.11672 -0.09613 0.07434 0.13510 0.20384 0.16832 0.06677 
Construct nearest neighbor graph nodes in parallel: L: 3301, U: 13475
Construct nearest neighbor graph edges in parallel: L: 3301, U: 13475
[5052,6736) finished...
[1684,3368) finished...
[3368,5052) finished...
[0,1684) finished...
[6736,8420) finished...
[11788,13475) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7878...
Iteration 2, converge to 0.001 with accuracy 0.7878...
Iteration 3, converge to 0.000 with accuracy 0.7878...

Query	Docs	P@5	P@10	P@20
Pos	U	0.404	0.291	0.246
Pos	L	0.340	0.458	0.451
Neg	U	0.595	0.721	0.750
Neg	L	0.652	0.559	0.568

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.79 seconds with accuracy 0.7878 and F1 (0:0.758 1:0.811)...
.*
optimization finished, #iter = 19
Objective value = -1221.07
nSV = 2453
Creating cache for labeled documents...
Generate 2388(0:1194) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	894	-3182.20	0.7851
1	901	-3185.90	0.7834
2	904	-3186.47	0.7826
3	904	-3186.52	0.7826
4	904	-3186.53	0.7826
5	904	-3186.53	0.7826
6	904	-3186.53	0.7826
7	904	-3186.53	0.7826
8	904	-3186.53	0.7826
[Info]Training procedure takes 0.22 seconds to finish...
0.10439 -0.24459 0.08907 0.09577 -0.06140 -0.01559 0.06970 0.15270 0.06856 0.14281 0.11688 
Construct nearest neighbor graph nodes in parallel: L: 3426, U: 13350
Construct nearest neighbor graph edges in parallel: L: 3426, U: 13350
[5004,6672) finished...
[1668,3336) finished...
[11676,13350) finished...
[0,1668) finished...
[3336,5004) finished...
[6672,8340) finished...
[8340,10008) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7844...
Iteration 2, converge to 0.001 with accuracy 0.7844...
Iteration 3, converge to 0.000 with accuracy 0.7844...

Query	Docs	P@5	P@10	P@20
Pos	U	0.351	0.339	0.396
Pos	L	0.711	0.616	0.496
Neg	U	0.679	0.669	0.614
Neg	L	0.279	0.386	0.513

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.75 seconds with accuracy 0.7844 and F1 (0:0.751 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1216.23
nSV = 2443
Creating cache for labeled documents...
Generate 2292(0:1146) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.1, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	958	-3123.40	0.7640
1	956	-3126.58	0.7645
2	952	-3126.20	0.7653
3	952	-3126.16	0.7653
4	952	-3126.15	0.7653
5	952	-3126.15	0.7653
[Info]Training procedure takes 0.14 seconds to finish...
0.01366 -0.13993 -0.01770 0.05977 -0.07450 -0.02950 -0.00620 0.19033 -0.06213 0.13708 0.11612 
Construct nearest neighbor graph nodes in parallel: L: 3431, U: 13345
Construct nearest neighbor graph edges in parallel: L: 3431, U: 13345
[5004,6672) finished...
[1668,3336) finished...
[0,1668) finished...
[3336,5004) finished...
[11676,13345) finished...
[8340,10008) finished...
[6672,8340) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7864...
Iteration 2, converge to 0.000 with accuracy 0.7864...
Iteration 3, converge to 0.000 with accuracy 0.7864...

Query	Docs	P@5	P@10	P@20
Pos	U	0.510	0.437	0.528
Pos	L	0.766	0.742	0.648
Neg	U	0.511	0.555	0.466
Neg	L	0.237	0.268	0.358

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.63 seconds with accuracy 0.7864 and F1 (0:0.753 1:0.812)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.791+/-0.007)	recall(0.723+/-0.010)
Class 1:	precision(0.783+/-0.006)	recall(0.839+/-0.008)
	0	1	P
0	44317	11712	0.7910
1	16939	61240	0.7833
R	0.7235	0.8395	0.7865
F1	0.7557	0.8104

Query	Docs	P@5	P@10	P@20
Pos	U	0.533	0.490	0.484
Pos	L	0.582	0.557	0.524
Neg	U	0.504	0.545	0.564
Neg	L	0.473	0.511	0.545

