
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 19
Objective value = -1224.33
nSV = 2418
Creating cache for labeled documents...
Generate 2328(0:1164) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	915	-3162.55	0.7790
1	938	-3163.26	0.7736
2	938	-3163.25	0.7736
3	938	-3163.25	0.7736
4	938	-3163.25	0.7736
5	938	-3163.25	0.7736
6	938	-3163.25	0.7736
[Info]Training procedure takes 0.40 seconds to finish...
0.04202 -0.09130 -0.02836 -0.05429 0.01752 0.00020 -0.00571 0.18526 0.01169 0.13488 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3359, U: 13417
Construct nearest neighbor graph edges in parallel: L: 3359, U: 13417
[5031,6708) finished...
[1677,3354) finished...
[0,1677) finished...
[6708,8385) finished...
[3354,5031) finished...
[11739,13417) finished...
[8385,10062) finished...
[10062,11739) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7881...
Iteration 2, converge to 0.000 with accuracy 0.7881...
Iteration 3, converge to 0.000 with accuracy 0.7881...

Query	Docs	P@5	P@10	P@20
Pos	U	0.905	0.838	0.748
Pos	L	0.679	0.566	0.517
Neg	U	0.136	0.220	0.339
Neg	L	0.356	0.485	0.546

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 129.43 seconds with accuracy 0.7881 and F1 (0:0.754 1:0.814)...
.......*
optimization finished, #iter = 74
Objective value = -1221.52
nSV = 2430
Creating cache for labeled documents...
Generate 2304(0:1152) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	871	-3102.58	0.7805
1	870	-3102.23	0.7808
2	870	-3102.23	0.7808
3	870	-3102.23	0.7808
4	870	-3102.23	0.7808
5	870	-3102.23	0.7808
[Info]Training procedure takes 0.22 seconds to finish...
0.06727 -0.15152 0.08806 -0.01138 0.02785 0.00109 0.03877 0.23497 0.02869 0.12203 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3360, U: 13416
Construct nearest neighbor graph edges in parallel: L: 3360, U: 13416
[5031,6708) finished...
[1677,3354) finished...
[0,1677) finished...
[11739,13416) finished...
[3354,5031) finished...
[8385,10062) finished...
[10062,11739) finished...
[6708,8385) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.039 with accuracy 0.7842...
Iteration 2, converge to 0.000 with accuracy 0.7842...
Iteration 3, converge to 0.000 with accuracy 0.7842...

Query	Docs	P@5	P@10	P@20
Pos	U	0.675	0.666	0.657
Pos	L	0.639	0.617	0.597
Neg	U	0.539	0.543	0.546
Neg	L	0.528	0.541	0.553

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.57 seconds with accuracy 0.7842 and F1 (0:0.751 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1218.53
nSV = 2421
Creating cache for labeled documents...
Generate 2366(0:1183) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	882	-3180.73	0.7851
1	880	-3180.48	0.7863
2	883	-3180.57	0.7849
3	883	-3180.57	0.7849
4	883	-3180.57	0.7849
5	883	-3180.57	0.7849
6	883	-3180.57	0.7849
[Info]Training procedure takes 0.19 seconds to finish...
0.04641 -0.10266 0.07527 0.01006 0.02007 0.00073 0.01232 0.22792 0.00682 0.20322 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3370, U: 13406
Construct nearest neighbor graph edges in parallel: L: 3370, U: 13406
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13406) finished...
[8375,10050) finished...
[6700,8375) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7889...
Iteration 2, converge to 0.001 with accuracy 0.7889...
Iteration 3, converge to 0.000 with accuracy 0.7889...

Query	Docs	P@5	P@10	P@20
Pos	U	0.638	0.549	0.488
Pos	L	0.802	0.720	0.647
Neg	U	0.259	0.364	0.459
Neg	L	0.229	0.324	0.403

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.82 seconds with accuracy 0.7889 and F1 (0:0.759 1:0.812)...
..*
optimization finished, #iter = 21
Objective value = -1236.82
nSV = 2448
Creating cache for labeled documents...
Generate 2414(0:1207) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	885	-3232.87	0.7888
1	891	-3233.21	0.7870
2	891	-3233.21	0.7870
3	891	-3233.21	0.7870
4	891	-3233.21	0.7870
5	891	-3233.21	0.7870
6	891	-3233.21	0.7870
[Info]Training procedure takes 0.17 seconds to finish...
0.05608 -0.08939 0.06354 -0.03965 0.02560 0.00052 0.02370 0.20765 -0.01344 0.23930 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3466, U: 13310
Construct nearest neighbor graph edges in parallel: L: 3466, U: 13310
[4989,6652) finished...
[1663,3326) finished...
[0,1663) finished...
[3326,4989) finished...
[11641,13310) finished...
[6652,8315) finished...
[8315,9978) finished...
[9978,11641) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7871...
Iteration 2, converge to 0.000 with accuracy 0.7871...
Iteration 3, converge to 0.000 with accuracy 0.7871...

Query	Docs	P@5	P@10	P@20
Pos	U	0.035	0.076	0.192
Pos	L	0.487	0.463	0.454
Neg	U	0.960	0.922	0.834
Neg	L	0.594	0.633	0.640

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.30 seconds with accuracy 0.7871 and F1 (0:0.756 1:0.811)...
.*
optimization finished, #iter = 19
Objective value = -1197.23
nSV = 2406
Creating cache for labeled documents...
Generate 2344(0:1172) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1004	-3190.78	0.7553
1	1010	-3190.77	0.7549
2	1009	-3190.76	0.7551
3	1009	-3190.76	0.7551
4	1009	-3190.76	0.7551
5	1009	-3190.76	0.7551
6	1009	-3190.76	0.7551
[Info]Training procedure takes 0.18 seconds to finish...
0.03948 -0.09367 0.03897 -0.04079 0.01587 -0.00217 0.00952 0.14407 0.00993 0.16424 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3417, U: 13359
Construct nearest neighbor graph edges in parallel: L: 3417, U: 13359
[5007,6676) finished...
[1669,3338) finished...
[0,1669) finished...
[3338,5007) finished...
[11683,13359) finished...
[6676,8345) finished...
[10014,11683) finished...
[8345,10014) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7820...
Iteration 2, converge to 0.000 with accuracy 0.7820...
Iteration 3, converge to 0.000 with accuracy 0.7820...

Query	Docs	P@5	P@10	P@20
Pos	U	0.797	0.865	0.687
Pos	L	0.615	0.568	0.525
Neg	U	0.208	0.140	0.354
Neg	L	0.468	0.534	0.573

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.05 seconds with accuracy 0.7820 and F1 (0:0.751 1:0.806)...
.*
optimization finished, #iter = 19
Objective value = -1146.75
nSV = 2305
Creating cache for labeled documents...
Generate 2206(0:1103) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	832	-2977.86	0.7844
1	831	-2978.11	0.7851
2	831	-2978.12	0.7851
3	831	-2978.12	0.7851
4	831	-2978.12	0.7851
5	831	-2978.12	0.7851
[Info]Training procedure takes 0.15 seconds to finish...
0.04445 -0.10236 0.07080 0.04889 0.01835 -0.00374 0.00327 0.21343 0.03429 0.13998 -0.00001 
Construct nearest neighbor graph nodes in parallel: L: 3245, U: 13531
Construct nearest neighbor graph edges in parallel: L: 3245, U: 13531
[5073,6764) finished...
[1691,3382) finished...
[0,1691) finished...
[3382,5073) finished...
[11837,13531) finished...
[6764,8455) finished...
[8455,10146) finished...
[10146,11837) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7875...
Iteration 2, converge to 0.000 with accuracy 0.7875...
Iteration 3, converge to 0.000 with accuracy 0.7875...

Query	Docs	P@5	P@10	P@20
Pos	U	0.795	0.566	0.494
Pos	L	0.414	0.419	0.343
Neg	U	0.208	0.438	0.519
Neg	L	0.579	0.591	0.659

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.32 seconds with accuracy 0.7875 and F1 (0:0.757 1:0.811)...
.**
optimization finished, #iter = 19
Objective value = -1139.27
nSV = 2334
Creating cache for labeled documents...
Generate 2202(0:1101) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	861	-2956.47	0.7780
1	865	-2956.86	0.7769
2	864	-2956.89	0.7768
3	864	-2956.89	0.7768
4	864	-2956.89	0.7768
5	864	-2956.89	0.7768
6	864	-2956.89	0.7768
7	864	-2956.89	0.7768
8	864	-2956.89	0.7768
[Info]Training procedure takes 0.18 seconds to finish...
0.03299 -0.07743 0.05758 0.06595 0.01783 -0.00184 0.02961 0.21647 0.03318 0.12811 -0.00002 
Construct nearest neighbor graph nodes in parallel: L: 3237, U: 13539
Construct nearest neighbor graph edges in parallel: L: 3237, U: 13539
[5076,6768) finished...
[1692,3384) finished...
[0,1692) finished...
[3384,5076) finished...
[11844,13539) finished...
[6768,8460) finished...
[8460,10152) finished...
[10152,11844) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7817...
Iteration 2, converge to 0.000 with accuracy 0.7817...
Iteration 3, converge to 0.000 with accuracy 0.7817...

Query	Docs	P@5	P@10	P@20
Pos	U	0.402	0.327	0.357
Pos	L	0.220	0.191	0.324
Neg	U	0.598	0.673	0.650
Neg	L	0.787	0.810	0.679

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.18 seconds with accuracy 0.7817 and F1 (0:0.751 1:0.806)...
.*
optimization finished, #iter = 17
Objective value = -1181.60
nSV = 2341
Creating cache for labeled documents...
Generate 2288(0:1144) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	863	-3082.57	0.7832
1	868	-3081.86	0.7831
2	864	-3081.80	0.7842
3	864	-3081.80	0.7842
4	864	-3081.80	0.7842
5	864	-3081.80	0.7842
6	864	-3081.80	0.7842
[Info]Training procedure takes 0.16 seconds to finish...
0.05100 -0.09484 0.04481 -0.00447 0.02069 -0.00166 0.04468 0.19321 0.01527 0.20909 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3384, U: 13392
Construct nearest neighbor graph edges in parallel: L: 3384, U: 13392
[5022,6696) finished...
[1674,3348) finished...
[3348,5022) finished...
[0,1674) finished...
[6696,8370) finished...
[11718,13392) finished...
[8370,10044) finished...
[10044,11718) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7864...
Iteration 2, converge to 0.000 with accuracy 0.7864...
Iteration 3, converge to 0.000 with accuracy 0.7864...

Query	Docs	P@5	P@10	P@20
Pos	U	0.633	0.738	0.694
Pos	L	0.543	0.554	0.522
Neg	U	0.371	0.274	0.352
Neg	L	0.474	0.508	0.557

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.89 seconds with accuracy 0.7864 and F1 (0:0.753 1:0.812)...
.*
optimization finished, #iter = 19
Objective value = -1164.21
nSV = 2351
Creating cache for labeled documents...
Generate 2314(0:1157) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	835	-3090.15	0.7942
1	837	-3089.30	0.7939
2	836	-3089.24	0.7943
3	836	-3089.24	0.7943
4	836	-3089.24	0.7943
5	836	-3089.24	0.7943
6	836	-3089.24	0.7943
[Info]Training procedure takes 0.17 seconds to finish...
0.05066 -0.09107 0.04058 0.00269 0.02191 -0.00089 0.03268 0.17593 0.01836 0.28644 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3393, U: 13383
Construct nearest neighbor graph edges in parallel: L: 3393, U: 13383
[5016,6688) finished...
[1672,3344) finished...
[0,1672) finished...
[3344,5016) finished...
[11704,13383) finished...
[6688,8360) finished...
[10032,11704) finished...
[8360,10032) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7880...
Iteration 2, converge to 0.000 with accuracy 0.7880...
Iteration 3, converge to 0.000 with accuracy 0.7880...

Query	Docs	P@5	P@10	P@20
Pos	U	0.592	0.554	0.572
Pos	L	0.408	0.554	0.535
Neg	U	0.417	0.454	0.446
Neg	L	0.601	0.464	0.489

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.80 seconds with accuracy 0.7880 and F1 (0:0.756 1:0.812)...
.*
optimization finished, #iter = 18
Objective value = -1169.18
nSV = 2323
Creating cache for labeled documents...
Generate 2252(0:1126) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.960, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	862	-3050.97	0.7914
1	863	-3050.70	0.7919
2	862	-3050.70	0.7921
3	862	-3050.70	0.7921
4	862	-3050.70	0.7921
5	862	-3050.70	0.7921
[Info]Training procedure takes 0.13 seconds to finish...
0.02466 -0.07209 0.01354 -0.05283 0.01361 -0.00083 0.00833 0.18752 0.01229 0.16141 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3321, U: 13455
Construct nearest neighbor graph edges in parallel: L: 3321, U: 13455
[5043,6724) finished...
[1681,3362) finished...
[0,1681) finished...
[3362,5043) finished...
[11767,13455) finished...
[6724,8405) finished...
[8405,10086) finished...
[10086,11767) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7889...
Iteration 2, converge to 0.000 with accuracy 0.7889...
Iteration 3, converge to 0.000 with accuracy 0.7889...

Query	Docs	P@5	P@10	P@20
Pos	U	0.784	0.780	0.708
Pos	L	0.657	0.559	0.518
Neg	U	0.226	0.251	0.351
Neg	L	0.365	0.495	0.548

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.53 seconds with accuracy 0.7889 and F1 (0:0.758 1:0.813)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.792+/-0.005)	recall(0.721+/-0.006)
Class 1:	precision(0.782+/-0.003)	recall(0.841+/-0.006)
	0	1	P
0	44143	11569	0.7923
1	17113	61383	0.7820
R	0.7206	0.8414	0.7863
F1	0.7548	0.8106

Query	Docs	P@5	P@10	P@20
Pos	U	0.625	0.596	0.560
Pos	L	0.546	0.521	0.498
Neg	U	0.392	0.428	0.485
Neg	L	0.498	0.539	0.565

