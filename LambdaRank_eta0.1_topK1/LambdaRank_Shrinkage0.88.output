
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 17
Objective value = -1203.11
nSV = 2409
Creating cache for labeled documents...
Generate 2296(0:1148) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	845	-3079.35	0.7878
1	845	-3079.35	0.7878
2	845	-3079.35	0.7878
3	845	-3079.35	0.7878
4	845	-3079.35	0.7878
5	845	-3079.35	0.7878
[Info]Training procedure takes 0.39 seconds to finish...
0.03444 -0.06027 -0.01014 0.04914 0.00330 -0.01080 -0.00729 0.18356 0.01671 0.25870 0.01272 
Construct nearest neighbor graph nodes in parallel: L: 3383, U: 13393
Construct nearest neighbor graph edges in parallel: L: 3383, U: 13393
[5022,6696) finished...
[1674,3348) finished...
[0,1674) finished...
[3348,5022) finished...
[11718,13393) finished...
[6696,8370) finished...
[8370,10044) finished...
[10044,11718) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7870...
Iteration 2, converge to 0.000 with accuracy 0.7870...
Iteration 3, converge to 0.000 with accuracy 0.7870...

Query	Docs	P@5	P@10	P@20
Pos	U	0.612	0.430	0.343
Pos	L	0.217	0.226	0.265
Neg	U	0.384	0.558	0.643
Neg	L	0.778	0.770	0.744

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.61 seconds with accuracy 0.7870 and F1 (0:0.757 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1250.31
nSV = 2469
Creating cache for labeled documents...
Generate 2326(0:1163) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	917	-3140.39	0.7777
1	917	-3140.39	0.7777
2	917	-3140.39	0.7777
3	917	-3140.39	0.7777
4	917	-3140.39	0.7777
5	917	-3140.39	0.7777
[Info]Training procedure takes 0.18 seconds to finish...
0.01602 -0.07534 0.06197 -0.00522 0.00988 -0.00662 0.00623 0.18225 0.01770 0.21304 -0.00670 
Construct nearest neighbor graph nodes in parallel: L: 3368, U: 13408
Construct nearest neighbor graph edges in parallel: L: 3368, U: 13408
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13408) finished...
[8380,10056) finished...
[6704,8380) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7908...
Iteration 2, converge to 0.000 with accuracy 0.7908...
Iteration 3, converge to 0.000 with accuracy 0.7908...

Query	Docs	P@5	P@10	P@20
Pos	U	1.000	0.983	0.871
Pos	L	0.668	0.668	0.583
Neg	U	0.002	0.018	0.163
Neg	L	0.333	0.369	0.481

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.18 seconds with accuracy 0.7908 and F1 (0:0.761 1:0.814)...
...***.
optimization finished, #iter = 40
Objective value = -1187.38
nSV = 2370
Creating cache for labeled documents...
Generate 2336(0:1168) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	933	-3154.64	0.7713
1	933	-3154.64	0.7713
2	933	-3154.64	0.7713
3	933	-3154.64	0.7713
4	933	-3154.64	0.7713
5	933	-3154.64	0.7713
[Info]Training procedure takes 0.16 seconds to finish...
0.05971 -0.11483 0.08645 -0.03470 0.00809 -0.00581 0.04970 0.22387 0.01297 0.09814 0.03343 
Construct nearest neighbor graph nodes in parallel: L: 3330, U: 13446
Construct nearest neighbor graph edges in parallel: L: 3330, U: 13446
[5040,6720) finished...
[1680,3360) finished...
[0,1680) finished...
[3360,5040) finished...
[11760,13446) finished...
[6720,8400) finished...
[8400,10080) finished...
[10080,11760) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.038 with accuracy 0.7919...
Iteration 2, converge to 0.000 with accuracy 0.7919...
Iteration 3, converge to 0.000 with accuracy 0.7919...

Query	Docs	P@5	P@10	P@20
Pos	U	0.683	0.675	0.664
Pos	L	0.642	0.627	0.612
Neg	U	0.554	0.554	0.553
Neg	L	0.541	0.552	0.558

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.72 seconds with accuracy 0.7919 and F1 (0:0.759 1:0.817)...
..*
optimization finished, #iter = 28
Objective value = -1137.71
nSV = 2343
Creating cache for labeled documents...
Generate 2252(0:1126) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	850	-3027.55	0.7838
1	850	-3027.55	0.7838
2	850	-3027.55	0.7838
3	850	-3027.55	0.7838
4	850	-3027.55	0.7838
5	850	-3027.55	0.7838
[Info]Training procedure takes 0.12 seconds to finish...
0.05860 -0.09554 0.07165 0.03898 0.05134 -0.00872 0.01496 0.19581 0.01990 0.19008 -0.00121 
Construct nearest neighbor graph nodes in parallel: L: 3351, U: 13425
Construct nearest neighbor graph edges in parallel: L: 3351, U: 13425
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[3356,5034) finished...
[11746,13425) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7848...
Iteration 2, converge to 0.001 with accuracy 0.7848...
Iteration 3, converge to 0.000 with accuracy 0.7848...

Query	Docs	P@5	P@10	P@20
Pos	U	0.242	0.178	0.244
Pos	L	0.579	0.386	0.390
Neg	U	0.736	0.791	0.728
Neg	L	0.406	0.592	0.614

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.57 seconds with accuracy 0.7848 and F1 (0:0.756 1:0.808)...
.*
optimization finished, #iter = 17
Objective value = -1173.81
nSV = 2344
Creating cache for labeled documents...
Generate 2236(0:1118) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	803	-2951.94	0.7933
1	803	-2951.94	0.7933
2	803	-2951.94	0.7933
3	803	-2951.94	0.7933
4	803	-2951.94	0.7933
5	803	-2951.94	0.7933
[Info]Training procedure takes 0.12 seconds to finish...
0.06769 -0.07810 0.01664 0.08496 0.06830 0.02113 0.00562 0.17208 0.03526 0.29035 0.00324 
Construct nearest neighbor graph nodes in parallel: L: 3280, U: 13496
Construct nearest neighbor graph edges in parallel: L: 3280, U: 13496
[5061,6748) finished...
[1687,3374) finished...
[0,1687) finished...
[3374,5061) finished...
[6748,8435) finished...
[11809,13496) finished...
[8435,10122) finished...
[10122,11809) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7865...
Iteration 2, converge to 0.001 with accuracy 0.7865...
Iteration 3, converge to 0.000 with accuracy 0.7865...

Query	Docs	P@5	P@10	P@20
Pos	U	0.602	0.420	0.286
Pos	L	0.719	0.568	0.479
Neg	U	0.395	0.572	0.700
Neg	L	0.260	0.424	0.516

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.26 seconds with accuracy 0.7865 and F1 (0:0.757 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1222.94
nSV = 2397
Creating cache for labeled documents...
Generate 2264(0:1132) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	917	-3076.46	0.7741
1	917	-3076.46	0.7741
2	917	-3076.46	0.7741
3	917	-3076.46	0.7741
4	917	-3076.46	0.7741
5	917	-3076.46	0.7741
[Info]Training procedure takes 0.13 seconds to finish...
0.05581 -0.05592 0.06580 0.01876 0.01575 0.00655 -0.02137 0.15143 0.01750 0.18849 0.02440 
Construct nearest neighbor graph nodes in parallel: L: 3342, U: 13434
Construct nearest neighbor graph edges in parallel: L: 3342, U: 13434
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13434) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.050 with accuracy 0.7843...
Iteration 2, converge to 0.000 with accuracy 0.7843...
Iteration 3, converge to 0.000 with accuracy 0.7843...

Query	Docs	P@5	P@10	P@20
Pos	U	0.610	0.452	0.367
Pos	L	0.885	0.693	0.610
Neg	U	0.384	0.542	0.632
Neg	L	0.128	0.303	0.397

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 118.77 seconds with accuracy 0.7843 and F1 (0:0.751 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1223.59
nSV = 2411
Creating cache for labeled documents...
Generate 2342(0:1171) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	912	-3140.29	0.7805
1	912	-3140.29	0.7805
2	912	-3140.29	0.7805
3	912	-3140.29	0.7805
4	912	-3140.29	0.7805
5	912	-3140.29	0.7805
[Info]Training procedure takes 0.15 seconds to finish...
0.07654 -0.08267 0.08692 0.07141 0.02494 -0.00025 -0.01371 0.14736 0.01217 0.21399 0.01073 
Construct nearest neighbor graph nodes in parallel: L: 3370, U: 13406
Construct nearest neighbor graph edges in parallel: L: 3370, U: 13406
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13406) finished...
[8375,10050) finished...
[6700,8375) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7888...
Iteration 2, converge to 0.001 with accuracy 0.7888...
Iteration 3, converge to 0.000 with accuracy 0.7888...

Query	Docs	P@5	P@10	P@20
Pos	U	0.500	0.293	0.259
Pos	L	0.646	0.679	0.557
Neg	U	0.527	0.712	0.752
Neg	L	0.350	0.330	0.442

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 118.86 seconds with accuracy 0.7888 and F1 (0:0.758 1:0.813)...
.....*
optimization finished, #iter = 57
Objective value = -1140.83
nSV = 2326
Creating cache for labeled documents...
Generate 2270(0:1135) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	785	-3017.04	0.7987
1	785	-3017.04	0.7987
2	785	-3017.04	0.7987
3	785	-3017.04	0.7987
4	785	-3017.04	0.7987
5	785	-3017.04	0.7987
[Info]Training procedure takes 0.15 seconds to finish...
0.09645 -0.13093 0.10311 -0.04735 0.01692 -0.00997 0.04122 0.19959 0.01581 0.23659 -0.02026 
Construct nearest neighbor graph nodes in parallel: L: 3345, U: 13431
Construct nearest neighbor graph edges in parallel: L: 3345, U: 13431
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[3356,5034) finished...
[11746,13431) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7852...
Iteration 2, converge to 0.000 with accuracy 0.7852...
Iteration 3, converge to 0.000 with accuracy 0.7852...

Query	Docs	P@5	P@10	P@20
Pos	U	0.007	0.039	0.230
Pos	L	0.504	0.438	0.446
Neg	U	0.994	0.973	0.830
Neg	L	0.528	0.625	0.638

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 118.05 seconds with accuracy 0.7852 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 18
Objective value = -1191.47
nSV = 2380
Creating cache for labeled documents...
Generate 2362(0:1181) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	869	-3132.85	0.7814
1	869	-3132.85	0.7814
2	869	-3132.85	0.7814
3	869	-3132.85	0.7814
4	869	-3132.85	0.7814
5	869	-3132.85	0.7814
[Info]Training procedure takes 0.14 seconds to finish...
0.04123 -0.14444 0.10504 -0.08960 0.00560 0.00906 0.01634 0.12771 0.05501 0.19012 -0.01447 
Construct nearest neighbor graph nodes in parallel: L: 3413, U: 13363
Construct nearest neighbor graph edges in parallel: L: 3413, U: 13363
[5010,6680) finished...
[1670,3340) finished...
[0,1670) finished...
[3340,5010) finished...
[11690,13363) finished...
[6680,8350) finished...
[8350,10020) finished...
[10020,11690) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7835...
Iteration 2, converge to 0.000 with accuracy 0.7835...
Iteration 3, converge to 0.000 with accuracy 0.7835...

Query	Docs	P@5	P@10	P@20
Pos	U	0.976	0.915	0.833
Pos	L	0.677	0.606	0.565
Neg	U	0.053	0.162	0.285
Neg	L	0.381	0.487	0.542

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.70 seconds with accuracy 0.7835 and F1 (0:0.751 1:0.808)...
.*
optimization finished, #iter = 18
Objective value = -1195.32
nSV = 2362
Creating cache for labeled documents...
Generate 2338(0:1169) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.880, WindowSize 20
	Initial step size 1.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	934	-3143.49	0.7725
1	934	-3143.49	0.7725
2	934	-3143.49	0.7725
3	934	-3143.49	0.7725
4	934	-3143.49	0.7725
5	934	-3143.49	0.7725
[Info]Training procedure takes 0.13 seconds to finish...
0.04182 -0.14355 0.05751 -0.06885 0.00137 0.00345 0.06481 0.20210 0.00609 0.13180 0.03655 
Construct nearest neighbor graph nodes in parallel: L: 3370, U: 13406
Construct nearest neighbor graph edges in parallel: L: 3370, U: 13406
[5025,6700) finished...
[1675,3350) finished...
[0,1675) finished...
[3350,5025) finished...
[11725,13406) finished...
[6700,8375) finished...
[8375,10050) finished...
[10050,11725) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.040 with accuracy 0.7864...
Iteration 2, converge to 0.000 with accuracy 0.7864...
Iteration 3, converge to 0.000 with accuracy 0.7864...

Query	Docs	P@5	P@10	P@20
Pos	U	0.782	0.735	0.690
Pos	L	0.505	0.527	0.534
Neg	U	0.399	0.441	0.487
Neg	L	0.642	0.623	0.605

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.55 seconds with accuracy 0.7864 and F1 (0:0.756 1:0.810)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.792+/-0.006)	recall(0.723+/-0.008)
Class 1:	precision(0.783+/-0.005)	recall(0.840+/-0.007)
	0	1	P
0	44297	11638	0.7919
1	16959	61314	0.7833
R	0.7231	0.8405	0.7869
F1	0.7560	0.8109

Query	Docs	P@5	P@10	P@20
Pos	U	0.601	0.512	0.479
Pos	L	0.604	0.542	0.504
Neg	U	0.443	0.532	0.577
Neg	L	0.435	0.507	0.554

