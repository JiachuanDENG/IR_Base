
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 12 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
.*
optimization finished, #iter = 18
Objective value = -1224.76
nSV = 2429
Creating cache for labeled documents...
Generate 2338(0:1169) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	968	-4752.49	0.7616
1	965	-4724.13	0.7626
2	965	-4720.29	0.7626
3	965	-4719.79	0.7626
4	965	-4719.72	0.7626
5	965	-4719.71	0.7626
[Info]Training procedure takes 0.35 seconds to finish...
0.97063 -0.71854 0.79870 -0.80397 1.34782 -0.37132 -0.45086 1.62667 1.49647 1.68594 0.40998 
Construct nearest neighbor graph nodes in parallel: L: 3438, U: 13338
Construct nearest neighbor graph edges in parallel: L: 3438, U: 13338
[5001,6668) finished...
[1667,3334) finished...
[0,1667) finished...
[3334,5001) finished...
[11669,13338) finished...
[6668,8335) finished...
[8335,10002) finished...
[10002,11669) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7910...
Iteration 2, converge to 0.000 with accuracy 0.7910...
Iteration 3, converge to 0.000 with accuracy 0.7910...

Query	Docs	P@5	P@10	P@20
Pos	U	0.720	0.684	0.642
Pos	L	0.580	0.565	0.544
Neg	U	0.374	0.428	0.483
Neg	L	0.511	0.546	0.562

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.38 seconds with accuracy 0.7910 and F1 (0:0.757 1:0.817)...
.*
optimization finished, #iter = 19
Objective value = -1202.49
nSV = 2387
Creating cache for labeled documents...
Generate 2294(0:1147) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1164	-4625.37	0.7172
1	1166	-4589.96	0.7169
2	1166	-4585.32	0.7169
3	1166	-4584.70	0.7169
4	1166	-4584.62	0.7169
5	1166	-4584.61	0.7169
6	1166	-4584.61	0.7169
[Info]Training procedure takes 0.23 seconds to finish...
-1.63275 -0.25545 1.11831 0.57201 -0.46682 -1.15824 -0.88637 0.24000 -0.31594 0.25727 -2.06883 
Construct nearest neighbor graph nodes in parallel: L: 3351, U: 13425
Construct nearest neighbor graph edges in parallel: L: 3351, U: 13425
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[3356,5034) finished...
[11746,13425) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7859...
Iteration 2, converge to 0.002 with accuracy 0.7859...
Iteration 3, converge to 0.000 with accuracy 0.7859...
Iteration 4, converge to 0.000 with accuracy 0.7859...

Query	Docs	P@5	P@10	P@20
Pos	U	0.408	0.399	0.349
Pos	L	0.258	0.397	0.450
Neg	U	0.591	0.607	0.651
Neg	L	0.735	0.601	0.546

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.55 seconds with accuracy 0.7859 and F1 (0:0.753 1:0.811)...
..*
optimization finished, #iter = 21
Objective value = -1162.36
nSV = 2347
Creating cache for labeled documents...
Generate 2326(0:1163) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1005	-3292.59	0.7660
1	1005	-3291.41	0.7661
2	1005	-3291.26	0.7661
3	1005	-3291.24	0.7661
4	1005	-3291.23	0.7661
5	1005	-3291.23	0.7661
[Info]Training procedure takes 0.14 seconds to finish...
-0.17720 -1.61169 -1.50177 -0.01046 -1.00616 0.37697 -0.23120 -0.09588 0.03178 0.27168 0.70721 
Construct nearest neighbor graph nodes in parallel: L: 3326, U: 13450
Construct nearest neighbor graph edges in parallel: L: 3326, U: 13450
[5043,6724) finished...
[1681,3362) finished...
[3362,5043) finished...
[0,1681) finished...
[11767,13450) finished...
[6724,8405) finished...
[8405,10086) finished...
[10086,11767) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.040 with accuracy 0.7822...
Iteration 2, converge to 0.000 with accuracy 0.7822...
Iteration 3, converge to 0.000 with accuracy 0.7822...

Query	Docs	P@5	P@10	P@20
Pos	U	0.628	0.588	0.584
Pos	L	0.679	0.646	0.631
Neg	U	0.477	0.533	0.560
Neg	L	0.483	0.530	0.554

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.69 seconds with accuracy 0.7822 and F1 (0:0.748 1:0.808)...
..*
optimization finished, #iter = 22
Objective value = -1196.05
nSV = 2394
Creating cache for labeled documents...
Generate 2326(0:1163) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1197	-4450.40	0.7039
1	1200	-4413.54	0.7030
2	1200	-4408.51	0.7030
3	1200	-4407.86	0.7030
4	1200	-4407.77	0.7030
5	1200	-4407.76	0.7030
6	1200	-4407.76	0.7030
[Info]Training procedure takes 0.16 seconds to finish...
-0.85084 1.89694 0.41265 0.28267 -0.85282 0.52665 0.81545 -0.14806 -0.82647 1.21122 -0.11895 
Construct nearest neighbor graph nodes in parallel: L: 3411, U: 13365
Construct nearest neighbor graph edges in parallel: L: 3411, U: 13365
[5010,6680) finished...
[1670,3340) finished...
[0,1670) finished...
[3340,5010) finished...
[11690,13365) finished...
[6680,8350) finished...
[8350,10020) finished...
[10020,11690) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7863...
Iteration 2, converge to 0.001 with accuracy 0.7863...
Iteration 3, converge to 0.000 with accuracy 0.7863...

Query	Docs	P@5	P@10	P@20
Pos	U	0.645	0.495	0.410
Pos	L	0.630	0.544	0.466
Neg	U	0.336	0.462	0.549
Neg	L	0.370	0.436	0.523

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 121.37 seconds with accuracy 0.7863 and F1 (0:0.757 1:0.809)...
.*
optimization finished, #iter = 19
Objective value = -1228.23
nSV = 2455
Creating cache for labeled documents...
Generate 2446(0:1223) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1199	-11642.87	0.7209
1	1199	-11552.65	0.7209
2	1199	-11540.69	0.7209
3	1199	-11539.09	0.7209
4	1199	-11538.88	0.7209
5	1199	-11538.85	0.7209
[Info]Training procedure takes 0.15 seconds to finish...
0.98489 0.53218 0.88565 -2.11581 0.07503 -0.45392 -1.81301 -0.24176 0.13049 0.92470 -1.12254 
Construct nearest neighbor graph nodes in parallel: L: 3432, U: 13344
Construct nearest neighbor graph edges in parallel: L: 3432, U: 13344
[5004,6672) finished...
[1668,3336) finished...
[0,1668) finished...
[11676,13344) finished...
[3336,5004) finished...
[8340,10008) finished...
[6672,8340) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7859...
Iteration 2, converge to 0.000 with accuracy 0.7859...
Iteration 3, converge to 0.000 with accuracy 0.7859...

Query	Docs	P@5	P@10	P@20
Pos	U	0.672	0.664	0.645
Pos	L	0.499	0.500	0.486
Neg	U	0.421	0.425	0.443
Neg	L	0.557	0.560	0.567

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.31 seconds with accuracy 0.7859 and F1 (0:0.756 1:0.809)...
....*
optimization finished, #iter = 41
Objective value = -1142.56
nSV = 2303
Creating cache for labeled documents...
Generate 2106(0:1053) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1182	-3901.62	0.6847
1	1182	-3879.13	0.6848
2	1182	-3876.21	0.6848
3	1182	-3875.82	0.6848
4	1182	-3875.77	0.6848
5	1182	-3875.76	0.6848
[Info]Training procedure takes 0.14 seconds to finish...
0.06663 -0.79990 0.62089 -0.35054 1.04411 -0.60687 -2.12262 -0.55569 0.15097 -0.56937 0.43799 
Construct nearest neighbor graph nodes in parallel: L: 3290, U: 13486
Construct nearest neighbor graph edges in parallel: L: 3290, U: 13486
[5055,6740) finished...
[1685,3370) finished...
[0,1685) finished...
[3370,5055) finished...
[11795,13486) finished...
[8425,10110) finished...
[6740,8425) finished...
[10110,11795) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7874...
Iteration 2, converge to 0.000 with accuracy 0.7874...
Iteration 3, converge to 0.000 with accuracy 0.7874...

Query	Docs	P@5	P@10	P@20
Pos	U	0.877	0.865	0.850
Pos	L	0.827	0.813	0.800
Neg	U	0.216	0.227	0.237
Neg	L	0.260	0.263	0.264

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.77 seconds with accuracy 0.7874 and F1 (0:0.756 1:0.812)...
.*
optimization finished, #iter = 19
Objective value = -1130.33
nSV = 2279
Creating cache for labeled documents...
Generate 2146(0:1073) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1008	-3236.02	0.7374
1	1007	-3230.90	0.7376
2	1007	-3230.24	0.7376
3	1007	-3230.15	0.7376
4	1007	-3230.14	0.7376
5	1007	-3230.14	0.7376
[Info]Training procedure takes 0.15 seconds to finish...
-0.74535 -0.37000 0.42288 -0.05767 -1.81536 3.24198 0.46825 1.72458 -0.18203 -0.52028 -0.19021 
Construct nearest neighbor graph nodes in parallel: L: 3242, U: 13534
Construct nearest neighbor graph edges in parallel: L: 3242, U: 13534
[5073,6764) finished...
[1691,3382) finished...
[0,1691) finished...
[3382,5073) finished...
[6764,8455) finished...
[11837,13534) finished...
[8455,10146) finished...
[10146,11837) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7857...
Iteration 2, converge to 0.000 with accuracy 0.7857...
Iteration 3, converge to 0.000 with accuracy 0.7857...

Query	Docs	P@5	P@10	P@20
Pos	U	0.851	0.844	0.833
Pos	L	0.795	0.779	0.762
Neg	U	0.250	0.253	0.257
Neg	L	0.291	0.304	0.313

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.48 seconds with accuracy 0.7857 and F1 (0:0.755 1:0.809)...
.*
optimization finished, #iter = 17
Objective value = -1190.72
nSV = 2378
Creating cache for labeled documents...
Generate 2298(0:1149) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1039	-4920.31	0.7443
1	1039	-4882.68	0.7441
2	1038	-4877.66	0.7442
3	1039	-4876.99	0.7441
4	1039	-4876.91	0.7441
5	1039	-4876.89	0.7441
6	1039	-4876.89	0.7441
7	1039	-4876.89	0.7441
8	1039	-4876.89	0.7441
[Info]Training procedure takes 0.22 seconds to finish...
-0.59907 -0.49093 0.33524 -0.76640 1.02266 0.35674 0.87839 0.21272 1.30312 -0.10017 -0.73370 
Construct nearest neighbor graph nodes in parallel: L: 3299, U: 13477
Construct nearest neighbor graph edges in parallel: L: 3299, U: 13477
[5052,6736) finished...
[1684,3368) finished...
[0,1684) finished...
[3368,5052) finished...
[11788,13477) finished...
[6736,8420) finished...
[8420,10104) finished...
[10104,11788) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.036 with accuracy 0.7892...
Iteration 2, converge to 0.000 with accuracy 0.7892...
Iteration 3, converge to 0.000 with accuracy 0.7892...

Query	Docs	P@5	P@10	P@20
Pos	U	0.773	0.769	0.768
Pos	L	0.700	0.700	0.696
Neg	U	0.481	0.474	0.465
Neg	L	0.505	0.496	0.484

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.67 seconds with accuracy 0.7892 and F1 (0:0.757 1:0.814)...
..*
optimization finished, #iter = 28
Objective value = -1172.28
nSV = 2357
Creating cache for labeled documents...
Generate 2314(0:1157) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1424	-4107.15	0.6470
1	1426	-4083.88	0.6467
2	1425	-4080.86	0.6469
3	1425	-4080.46	0.6469
4	1425	-4080.41	0.6469
5	1425	-4080.40	0.6469
6	1425	-4080.40	0.6469
[Info]Training procedure takes 0.17 seconds to finish...
-0.21179 1.00852 0.45134 -0.19121 0.79687 -1.15852 1.27454 -0.09574 1.00124 -1.04762 -0.17776 
Construct nearest neighbor graph nodes in parallel: L: 3338, U: 13438
Construct nearest neighbor graph edges in parallel: L: 3338, U: 13438
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13438) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7858...
Iteration 2, converge to 0.000 with accuracy 0.7858...
Iteration 3, converge to 0.000 with accuracy 0.7858...

Query	Docs	P@5	P@10	P@20
Pos	U	0.962	0.953	0.942
Pos	L	0.929	0.913	0.898
Neg	U	0.057	0.067	0.080
Neg	L	0.095	0.117	0.131

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.56 seconds with accuracy 0.7858 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1198.22
nSV = 2423
Creating cache for labeled documents...
Generate 2332(0:1166) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1348	-5434.99	0.6640
1	1348	-5392.24	0.6640
2	1348	-5386.59	0.6640
3	1348	-5385.84	0.6640
4	1348	-5385.74	0.6640
5	1348	-5385.73	0.6640
[Info]Training procedure takes 0.16 seconds to finish...
-0.64123 0.38407 -1.45814 -0.61400 0.86961 -0.27363 0.39569 0.00144 -0.74016 -0.61248 -1.02239 
Construct nearest neighbor graph nodes in parallel: L: 3425, U: 13351
Construct nearest neighbor graph edges in parallel: L: 3425, U: 13351
[5004,6672) finished...
[1668,3336) finished...
[3336,5004) finished...
[11676,13351) finished...
[0,1668) finished...
[6672,8340) finished...
[8340,10008) finished...
[10008,11676) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7873...
Iteration 2, converge to 0.000 with accuracy 0.7873...
Iteration 3, converge to 0.000 with accuracy 0.7873...

Query	Docs	P@5	P@10	P@20
Pos	U	0.946	0.935	0.919
Pos	L	0.756	0.829	0.848
Neg	U	0.054	0.073	0.091
Neg	L	0.251	0.179	0.161

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.90 seconds with accuracy 0.7873 and F1 (0:0.758 1:0.810)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.793+/-0.009)	recall(0.721+/-0.008)
Class 1:	precision(0.782+/-0.005)	recall(0.842+/-0.009)
	0	1	P
0	44160	11534	0.7929
1	17096	61418	0.7823
R	0.7209	0.8419	0.7867
F1	0.7552	0.8110

Query	Docs	P@5	P@10	P@20
Pos	U	0.748	0.719	0.694
Pos	L	0.665	0.669	0.658
Neg	U	0.326	0.355	0.382
Neg	L	0.406	0.403	0.411

