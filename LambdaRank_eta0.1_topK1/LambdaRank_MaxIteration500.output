
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
..*
optimization finished, #iter = 24
Objective value = -1176.52
nSV = 2368
Creating cache for labeled documents...
Generate 2370(0:1185) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	957	-3213.54	0.7714
1	957	-3213.55	0.7714
2	957	-3213.55	0.7714
3	957	-3213.55	0.7714
4	957	-3213.55	0.7714
5	957	-3213.55	0.7714
[Info]Training procedure takes 0.90 seconds to finish...
0.05091 -0.08292 0.04140 -0.04488 0.01912 -0.00186 0.01223 0.20444 0.03286 0.12380 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3344, U: 13432
Construct nearest neighbor graph edges in parallel: L: 3344, U: 13432
[5037,6716) finished...
[1679,3358) finished...
[3358,5037) finished...
[0,1679) finished...
[11753,13432) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.044 with accuracy 0.7909...
Iteration 2, converge to 0.000 with accuracy 0.7909...
Iteration 3, converge to 0.000 with accuracy 0.7909...

Query	Docs	P@5	P@10	P@20
Pos	U	0.540	0.542	0.548
Pos	L	0.628	0.549	0.518
Neg	U	0.593	0.593	0.589
Neg	L	0.495	0.555	0.586

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 128.66 seconds with accuracy 0.7909 and F1 (0:0.760 1:0.815)...
.*
optimization finished, #iter = 17
Objective value = -1155.26
nSV = 2315
Creating cache for labeled documents...
Generate 2298(0:1149) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	876	-3106.44	0.7821
1	876	-3106.42	0.7818
2	876	-3106.42	0.7818
3	876	-3106.42	0.7818
4	876	-3106.42	0.7818
5	876	-3106.42	0.7818
6	876	-3106.42	0.7818
[Info]Training procedure takes 0.71 seconds to finish...
0.06146 -0.12106 0.10315 -0.01036 0.02844 -0.00098 0.02095 0.22334 0.01255 0.08937 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3281, U: 13495
Construct nearest neighbor graph edges in parallel: L: 3281, U: 13495
[5058,6744) finished...
[1686,3372) finished...
[0,1686) finished...
[3372,5058) finished...
[11802,13495) finished...
[6744,8430) finished...
[8430,10116) finished...
[10116,11802) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.039 with accuracy 0.7878...
Iteration 2, converge to 0.000 with accuracy 0.7878...
Iteration 3, converge to 0.000 with accuracy 0.7878...

Query	Docs	P@5	P@10	P@20
Pos	U	0.606	0.607	0.612
Pos	L	0.595	0.592	0.583
Neg	U	0.616	0.607	0.594
Neg	L	0.587	0.590	0.589

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.91 seconds with accuracy 0.7878 and F1 (0:0.756 1:0.812)...
.*.
optimization finished, #iter = 20
Objective value = -1170.59
nSV = 2364
Creating cache for labeled documents...
Generate 2238(0:1119) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	823	-2983.06	0.7823
1	823	-2983.04	0.7823
2	823	-2983.04	0.7823
3	823	-2983.04	0.7823
4	823	-2983.04	0.7823
5	823	-2983.04	0.7823
[Info]Training procedure takes 0.47 seconds to finish...
0.07849 -0.16571 0.12169 -0.04387 0.03071 0.00003 0.02806 0.23271 0.02128 0.16675 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3286, U: 13490
Construct nearest neighbor graph edges in parallel: L: 3286, U: 13490
[5058,6744) finished...
[1686,3372) finished...
[0,1686) finished...
[3372,5058) finished...
[11802,13490) finished...
[6744,8430) finished...
[8430,10116) finished...
[10116,11802) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7851...
Iteration 2, converge to 0.000 with accuracy 0.7851...
Iteration 3, converge to 0.000 with accuracy 0.7851...

Query	Docs	P@5	P@10	P@20
Pos	U	0.527	0.515	0.533
Pos	L	0.410	0.464	0.506
Neg	U	0.595	0.620	0.618
Neg	L	0.702	0.668	0.635

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.67 seconds with accuracy 0.7851 and F1 (0:0.754 1:0.809)...
.*
optimization finished, #iter = 19
Objective value = -1191.36
nSV = 2401
Creating cache for labeled documents...
Generate 2178(0:1089) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	756	-2847.21	0.7911
1	755	-2847.16	0.7913
2	755	-2847.16	0.7913
3	755	-2847.16	0.7913
4	755	-2847.16	0.7913
5	755	-2847.16	0.7913
[Info]Training procedure takes 0.46 seconds to finish...
0.07036 -0.13300 0.08550 0.07126 0.03108 -0.00037 0.04669 0.21101 0.02450 0.31434 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3344, U: 13432
Construct nearest neighbor graph edges in parallel: L: 3344, U: 13432
[5037,6716) finished...
[1679,3358) finished...
[11753,13432) finished...
[0,1679) finished...
[3358,5037) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.048 with accuracy 0.7833...
Iteration 2, converge to 0.000 with accuracy 0.7833...
Iteration 3, converge to 0.000 with accuracy 0.7833...

Query	Docs	P@5	P@10	P@20
Pos	U	0.536	0.525	0.531
Pos	L	0.541	0.572	0.496
Neg	U	0.462	0.469	0.458
Neg	L	0.470	0.431	0.509

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.40 seconds with accuracy 0.7833 and F1 (0:0.749 1:0.809)...
.*
optimization finished, #iter = 19
Objective value = -1184.96
nSV = 2370
Creating cache for labeled documents...
Generate 2220(0:1110) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	844	-2977.31	0.7792
1	844	-2977.28	0.7795
2	844	-2977.28	0.7795
3	844	-2977.28	0.7795
4	844	-2977.28	0.7795
5	844	-2977.28	0.7795
[Info]Training procedure takes 0.44 seconds to finish...
0.03972 -0.07986 0.01963 0.11093 0.01698 -0.00106 0.00433 0.18645 0.00294 0.20633 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3362, U: 13414
Construct nearest neighbor graph edges in parallel: L: 3362, U: 13414
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[6704,8380) finished...
[11732,13414) finished...
[8380,10056) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7841...
Iteration 2, converge to 0.001 with accuracy 0.7841...
Iteration 3, converge to 0.000 with accuracy 0.7841...

Query	Docs	P@5	P@10	P@20
Pos	U	0.810	0.550	0.510
Pos	L	0.395	0.462	0.350
Neg	U	0.186	0.439	0.486
Neg	L	0.608	0.550	0.653

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.86 seconds with accuracy 0.7841 and F1 (0:0.749 1:0.810)...
..*
optimization finished, #iter = 22
Objective value = -1182.90
nSV = 2363
Creating cache for labeled documents...
Generate 2208(0:1104) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	848	-2997.47	0.7853
1	847	-2997.46	0.7858
2	847	-2997.46	0.7858
3	847	-2997.46	0.7858
4	847	-2997.46	0.7858
5	847	-2997.46	0.7858
[Info]Training procedure takes 0.45 seconds to finish...
0.03409 -0.07418 0.01056 0.00489 0.01651 -0.00152 0.02380 0.21198 -0.00173 0.15968 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3317, U: 13459
Construct nearest neighbor graph edges in parallel: L: 3317, U: 13459
[5046,6728) finished...
[1682,3364) finished...
[0,1682) finished...
[3364,5046) finished...
[11774,13459) finished...
[6728,8410) finished...
[8410,10092) finished...
[10092,11774) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.049 with accuracy 0.7886...
Iteration 2, converge to 0.000 with accuracy 0.7886...
Iteration 3, converge to 0.000 with accuracy 0.7886...

Query	Docs	P@5	P@10	P@20
Pos	U	0.517	0.507	0.458
Pos	L	0.587	0.544	0.531
Neg	U	0.488	0.482	0.550
Neg	L	0.423	0.491	0.511

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 122.28 seconds with accuracy 0.7886 and F1 (0:0.757 1:0.813)...
..**
optimization finished, #iter = 26
Objective value = -1197.63
nSV = 2373
Creating cache for labeled documents...
Generate 2288(0:1144) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	922	-3120.74	0.7754
1	922	-3120.74	0.7754
2	922	-3120.74	0.7754
3	922	-3120.74	0.7754
4	922	-3120.74	0.7754
5	922	-3120.74	0.7754
[Info]Training procedure takes 0.49 seconds to finish...
0.03326 -0.05931 -0.01952 0.01665 0.01908 -0.00170 0.00547 0.18094 0.00207 0.11699 -0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3363, U: 13413
Construct nearest neighbor graph edges in parallel: L: 3363, U: 13413
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13413) finished...
[8380,10056) finished...
[6704,8380) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.051 with accuracy 0.7895...
Iteration 2, converge to 0.001 with accuracy 0.7895...
Iteration 3, converge to 0.000 with accuracy 0.7895...

Query	Docs	P@5	P@10	P@20
Pos	U	0.225	0.201	0.203
Pos	L	0.834	0.761	0.658
Neg	U	0.768	0.799	0.793
Neg	L	0.166	0.259	0.365

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.63 seconds with accuracy 0.7895 and F1 (0:0.760 1:0.813)...
..*
optimization finished, #iter = 24
Objective value = -1223.71
nSV = 2422
Creating cache for labeled documents...
Generate 2294(0:1147) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	953	-3139.92	0.7662
1	953	-3139.92	0.7662
2	953	-3139.92	0.7662
3	953	-3139.92	0.7662
4	953	-3139.92	0.7662
5	953	-3139.92	0.7662
[Info]Training procedure takes 0.57 seconds to finish...
0.02672 -0.05352 -0.00328 0.02836 0.01477 -0.00082 0.00974 0.12909 0.00938 0.15114 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3433, U: 13343
Construct nearest neighbor graph edges in parallel: L: 3433, U: 13343
[5001,6668) finished...
[1667,3334) finished...
[11669,13343) finished...
[0,1667) finished...
[3334,5001) finished...
[6668,8335) finished...
[8335,10002) finished...
[10002,11669) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.052 with accuracy 0.7889...
Iteration 2, converge to 0.001 with accuracy 0.7889...
Iteration 3, converge to 0.000 with accuracy 0.7889...

Query	Docs	P@5	P@10	P@20
Pos	U	0.287	0.289	0.286
Pos	L	0.649	0.573	0.529
Neg	U	0.676	0.677	0.679
Neg	L	0.330	0.417	0.476

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 128.06 seconds with accuracy 0.7889 and F1 (0:0.762 1:0.810)...
..*
optimization finished, #iter = 24
Objective value = -1240.84
nSV = 2427
Creating cache for labeled documents...
Generate 2348(0:1174) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	894	-3175.40	0.7804
1	894	-3175.43	0.7804
2	894	-3175.43	0.7804
3	894	-3175.43	0.7804
4	894	-3175.43	0.7804
5	894	-3175.43	0.7804
[Info]Training procedure takes 0.59 seconds to finish...
0.02284 -0.05950 0.00754 0.02935 0.01305 -0.00021 0.00280 0.14870 0.00986 0.24206 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3421, U: 13355
Construct nearest neighbor graph edges in parallel: L: 3421, U: 13355
[5007,6676) finished...
[1669,3338) finished...
[0,1669) finished...
[11683,13355) finished...
[3338,5007) finished...
[6676,8345) finished...
[8345,10014) finished...
[10014,11683) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.053 with accuracy 0.7879...
Iteration 2, converge to 0.001 with accuracy 0.7879...
Iteration 3, converge to 0.000 with accuracy 0.7879...

Query	Docs	P@5	P@10	P@20
Pos	U	0.526	0.483	0.456
Pos	L	0.520	0.454	0.417
Neg	U	0.423	0.452	0.490
Neg	L	0.383	0.488	0.560

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 127.63 seconds with accuracy 0.7879 and F1 (0:0.761 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1233.04
nSV = 2449
Creating cache for labeled documents...
Generate 2362(0:1181) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 1.0, Steps 500, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	895	-3187.31	0.7899
1	893	-3187.29	0.7901
2	893	-3187.29	0.7901
3	893	-3187.29	0.7901
4	893	-3187.29	0.7901
5	893	-3187.29	0.7901
[Info]Training procedure takes 0.57 seconds to finish...
0.04875 -0.09408 0.04768 -0.01300 0.01892 -0.00019 0.01984 0.12773 0.01910 0.24763 0.00000 
Construct nearest neighbor graph nodes in parallel: L: 3401, U: 13375
Construct nearest neighbor graph edges in parallel: L: 3401, U: 13375
[5013,6684) finished...
[1671,3342) finished...
[0,1671) finished...
[3342,5013) finished...
[6684,8355) finished...
[11697,13375) finished...
[8355,10026) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.045 with accuracy 0.7898...
Iteration 2, converge to 0.000 with accuracy 0.7898...
Iteration 3, converge to 0.000 with accuracy 0.7898...

Query	Docs	P@5	P@10	P@20
Pos	U	1.000	1.000	0.969
Pos	L	0.619	0.571	0.519
Neg	U	0.000	0.002	0.037
Neg	L	0.390	0.461	0.541

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 126.97 seconds with accuracy 0.7898 and F1 (0:0.761 1:0.812)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.793+/-0.011)	recall(0.725+/-0.017)
Class 1:	precision(0.784+/-0.011)	recall(0.841+/-0.012)
	0	1	P
0	44378	11629	0.7924
1	16878	61323	0.7842
R	0.7245	0.8406	0.7876
F1	0.7569	0.8114

Query	Docs	P@5	P@10	P@20
Pos	U	0.557	0.522	0.511
Pos	L	0.578	0.554	0.511
Neg	U	0.481	0.514	0.530
Neg	L	0.455	0.491	0.542

