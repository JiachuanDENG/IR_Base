
--------------------------------------------------------------------------------------
Parameters of learning procedure:
#Class: 5	Ngram: 2	Feature value: TF	Normalization: 2
Doc length cut: 10	Window length: 0
Learning paradigm: SEMI	Sampling rate: 0.25	kUL: 100	kUU: 50
alpha: 1.05	beta: 1.01
Solver: Random Walk	Base Classifer: SVM	Weighted Sum: true	Similarity Weight: false
Classifier: SVM	Instance weighting: NONE	Trade-off Parameter: 1.0	Cross validation: 10
Data directory: ./data/amazon/small/dedup/RawData
--------------------------------------------------------------------------------------
Creating feature vectors, wait...
8055 feature words loaded from ./data/Features/fv_2gram_tablets_86jsons.txt...
Keywords for <screen>: 52
Keywords for <app>: 55
Keywords for <price>: 63
Keywords for <battery>: 60
Keywords for <sound>: 23
Keywords for <camera>: 47
Keywords for <cpu>: 46
Keywords for <microsd>: 44
Keywords for <internet>: 46
Keywords for <keyboard>: 26
Keywords for <usb>: 35
Keywords for <servic>: 49
Loading 614 stopwords from ./data/Model/stopwords.dat
DTLoading 16776 reviews from ./data/amazon/small/dedup/RawData
No normalizaiton is adopted here or wrong parameters!!
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Info File Path: ./data/result/Topics_30Information.txt
Prior keywords for Topic 0 (<screen>): 52/52
Prior keywords for Topic 1 (<app>): 55/55
Prior keywords for Topic 2 (<price>): 63/63
Prior keywords for Topic 3 (<battery>): 60/60
Prior keywords for Topic 4 (<sound>): 23/23
Prior keywords for Topic 5 (<camera>): 47/47
Prior keywords for Topic 6 (<cpu>): 46/46
Prior keywords for Topic 7 (<microsd>): 44/44
Prior keywords for Topic 8 (<internet>): 46/46
Prior keywords for Topic 9 (<keyboard>): 26/26
Prior keywords for Topic 10 (<usb>): 35/35
Prior keywords for Topic 11 (<servic>): 49/50
..........Likelihood 16776.000 after step 100 converge to 0.000000 after 13 seconds...
Text feature generated for 16776 documents...
2082 1104 1325 3146 9119 , Total: 16776
Start Transductive Learning, wait...
......*.
optimization finished, #iter = 70
Objective value = -1143.96
nSV = 2326
Creating cache for labeled documents...
Generate 2264(0:1132) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1115	-9235.14	0.7167
1	1115	-9227.84	0.7167
2	1115	-9226.86	0.7167
3	1115	-9226.73	0.7167
4	1115	-9226.71	0.7167
5	1115	-9226.71	0.7167
[Info]Training procedure takes 0.29 seconds to finish...
0.44205 -1.04421 -0.26560 1.79330 -0.88047 1.12141 -0.21306 0.48776 -0.72332 0.44502 1.19169 
Construct nearest neighbor graph nodes in parallel: L: 3340, U: 13436
Construct nearest neighbor graph edges in parallel: L: 3340, U: 13436
[5037,6716) finished...
[1679,3358) finished...
[0,1679) finished...
[3358,5037) finished...
[11753,13436) finished...
[6716,8395) finished...
[8395,10074) finished...
[10074,11753) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.042 with accuracy 0.7809...
Iteration 2, converge to 0.002 with accuracy 0.7809...
Iteration 3, converge to 0.000 with accuracy 0.7809...

Query	Docs	P@5	P@10	P@20
Pos	U	0.800	0.600	0.462
Pos	L	0.607	0.698	0.597
Neg	U	0.200	0.402	0.536
Neg	L	0.390	0.307	0.406

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.66 seconds with accuracy 0.7809 and F1 (0:0.751 1:0.804)...
.*
optimization finished, #iter = 17
Objective value = -1150.55
nSV = 2356
Creating cache for labeled documents...
Generate 2264(0:1132) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1122	-8659.43	0.7111
1	1122	-8648.93	0.7111
2	1122	-8647.57	0.7111
3	1122	-8647.39	0.7111
4	1122	-8647.36	0.7111
5	1122	-8647.36	0.7111
[Info]Training procedure takes 0.16 seconds to finish...
-0.08901 -1.50072 1.33074 1.25233 0.27149 -0.33838 0.09599 -0.18807 0.81569 0.22578 1.64556 
Construct nearest neighbor graph nodes in parallel: L: 3398, U: 13378
Construct nearest neighbor graph edges in parallel: L: 3398, U: 13378
[5016,6688) finished...
[1672,3344) finished...
[0,1672) finished...
[3344,5016) finished...
[11704,13378) finished...
[6688,8360) finished...
[8360,10032) finished...
[10032,11704) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7848...
Iteration 2, converge to 0.003 with accuracy 0.7848...
Iteration 3, converge to 0.000 with accuracy 0.7848...
Iteration 4, converge to 0.000 with accuracy 0.7848...

Query	Docs	P@5	P@10	P@20
Pos	U	0.599	0.408	0.447
Pos	L	0.639	0.591	0.597
Neg	U	0.404	0.594	0.558
Neg	L	0.359	0.414	0.411

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 124.95 seconds with accuracy 0.7848 and F1 (0:0.753 1:0.809)...
.*.
optimization finished, #iter = 20
Objective value = -1199.68
nSV = 2442
Creating cache for labeled documents...
Generate 2456(0:1228) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1146	-5071.97	0.7364
1	1146	-5067.54	0.7364
2	1146	-5066.93	0.7364
3	1146	-5066.85	0.7364
4	1146	-5066.84	0.7364
5	1146	-5066.84	0.7364
[Info]Training procedure takes 0.15 seconds to finish...
0.63578 2.04539 -0.34106 0.59959 1.07473 0.91724 1.91074 2.10542 0.95412 -0.61026 0.29306 
Construct nearest neighbor graph nodes in parallel: L: 3465, U: 13311
Construct nearest neighbor graph edges in parallel: L: 3465, U: 13311
[4989,6652) finished...
[1663,3326) finished...
[0,1663) finished...
[3326,4989) finished...
[8315,9978) finished...
[6652,8315) finished...
[11641,13311) finished...
[9978,11641) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7907...
Iteration 2, converge to 0.001 with accuracy 0.7907...
Iteration 3, converge to 0.000 with accuracy 0.7907...

Query	Docs	P@5	P@10	P@20
Pos	U	0.611	0.423	0.389
Pos	L	0.544	0.579	0.490
Neg	U	0.384	0.567	0.589
Neg	L	0.454	0.428	0.499

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 123.93 seconds with accuracy 0.7907 and F1 (0:0.757 1:0.816)...
.*.
optimization finished, #iter = 20
Objective value = -1185.00
nSV = 2411
Creating cache for labeled documents...
Generate 2364(0:1182) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1218	-6214.82	0.7201
1	1218	-6210.88	0.7201
2	1218	-6210.35	0.7201
3	1218	-6210.28	0.7201
4	1218	-6210.27	0.7201
5	1218	-6210.27	0.7201
[Info]Training procedure takes 0.15 seconds to finish...
1.13866 0.22559 1.22285 1.17922 -0.68250 1.54865 -0.79268 0.11226 0.09645 -1.04553 -1.77797 
Construct nearest neighbor graph nodes in parallel: L: 3405, U: 13371
Construct nearest neighbor graph edges in parallel: L: 3405, U: 13371
[5013,6684) finished...
[1671,3342) finished...
[0,1671) finished...
[11697,13371) finished...
[3342,5013) finished...
[8355,10026) finished...
[6684,8355) finished...
[10026,11697) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7840...
Iteration 2, converge to 0.002 with accuracy 0.7840...
Iteration 3, converge to 0.000 with accuracy 0.7840...

Query	Docs	P@5	P@10	P@20
Pos	U	0.802	0.530	0.392
Pos	L	0.594	0.622	0.579
Neg	U	0.197	0.461	0.592
Neg	L	0.413	0.376	0.418

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 125.11 seconds with accuracy 0.7840 and F1 (0:0.751 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1169.77
nSV = 2351
Creating cache for labeled documents...
Generate 2236(0:1118) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1094	-10091.93	0.7313
1	1094	-10086.67	0.7313
2	1094	-10085.95	0.7313
3	1094	-10085.86	0.7313
4	1094	-10085.84	0.7313
5	1094	-10085.84	0.7313
[Info]Training procedure takes 0.13 seconds to finish...
-1.03404 0.68004 0.65839 -2.33027 -0.36969 0.23285 -1.44467 -0.58792 0.01434 -0.19091 -0.63400 
Construct nearest neighbor graph nodes in parallel: L: 3350, U: 13426
Construct nearest neighbor graph edges in parallel: L: 3350, U: 13426
[5034,6712) finished...
[1678,3356) finished...
[0,1678) finished...
[11746,13426) finished...
[3356,5034) finished...
[6712,8390) finished...
[8390,10068) finished...
[10068,11746) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.047 with accuracy 0.7842...
Iteration 2, converge to 0.000 with accuracy 0.7842...
Iteration 3, converge to 0.000 with accuracy 0.7842...

Query	Docs	P@5	P@10	P@20
Pos	U	0.596	0.604	0.608
Pos	L	0.568	0.566	0.563
Neg	U	0.454	0.442	0.423
Neg	L	0.480	0.468	0.454

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.67 seconds with accuracy 0.7842 and F1 (0:0.748 1:0.811)...
..**
optimization finished, #iter = 26
Objective value = -1186.35
nSV = 2384
Creating cache for labeled documents...
Generate 2346(0:1173) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	978	-3658.05	0.7641
1	978	-3656.16	0.7641
2	978	-3655.92	0.7641
3	978	-3655.88	0.7641
4	978	-3655.88	0.7641
5	978	-3655.88	0.7641
[Info]Training procedure takes 0.14 seconds to finish...
0.13298 -2.68543 0.63718 -0.24660 0.56518 -1.06354 0.71754 -0.94145 0.76438 0.27485 2.19902 
Construct nearest neighbor graph nodes in parallel: L: 3365, U: 13411
Construct nearest neighbor graph edges in parallel: L: 3365, U: 13411
[5028,6704) finished...
[1676,3352) finished...
[0,1676) finished...
[3352,5028) finished...
[11732,13411) finished...
[6704,8380) finished...
[8380,10056) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.033 with accuracy 0.7873...
Iteration 2, converge to 0.000 with accuracy 0.7873...
Iteration 3, converge to 0.000 with accuracy 0.7873...

Query	Docs	P@5	P@10	P@20
Pos	U	0.769	0.765	0.760
Pos	L	0.726	0.718	0.711
Neg	U	0.526	0.519	0.510
Neg	L	0.536	0.528	0.514

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 119.99 seconds with accuracy 0.7873 and F1 (0:0.757 1:0.811)...
.*
optimization finished, #iter = 17
Objective value = -1230.60
nSV = 2400
Creating cache for labeled documents...
Generate 2284(0:1142) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1252	-6111.51	0.6912
1	1252	-6107.19	0.6912
2	1252	-6106.60	0.6912
3	1252	-6106.53	0.6912
4	1252	-6106.52	0.6912
5	1252	-6106.52	0.6912
[Info]Training procedure takes 0.15 seconds to finish...
2.11422 0.10791 -1.07105 0.99608 -0.80807 0.99957 0.77221 -0.87613 0.25745 -0.63459 -0.58052 
Construct nearest neighbor graph nodes in parallel: L: 3309, U: 13467
Construct nearest neighbor graph edges in parallel: L: 3309, U: 13467
[5049,6732) finished...
[1683,3366) finished...
[0,1683) finished...
[3366,5049) finished...
[11781,13467) finished...
[8415,10098) finished...
[6732,8415) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7854...
Iteration 2, converge to 0.001 with accuracy 0.7854...
Iteration 3, converge to 0.000 with accuracy 0.7854...

Query	Docs	P@5	P@10	P@20
Pos	U	0.226	0.328	0.263
Pos	L	0.757	0.670	0.508
Neg	U	0.768	0.664	0.721
Neg	L	0.248	0.319	0.479

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.97 seconds with accuracy 0.7854 and F1 (0:0.755 1:0.809)...
.*
optimization finished, #iter = 18
Objective value = -1236.51
nSV = 2405
Creating cache for labeled documents...
Generate 2326(0:1163) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1188	-5859.65	0.7105
1	1188	-5856.73	0.7105
2	1188	-5856.34	0.7105
3	1188	-5856.29	0.7105
4	1188	-5856.29	0.7105
5	1188	-5856.29	0.7105
[Info]Training procedure takes 0.14 seconds to finish...
-0.81374 0.24374 -0.68453 -1.23916 1.27447 0.38919 -1.48346 0.60878 0.17861 -0.86549 -0.02646 
Construct nearest neighbor graph nodes in parallel: L: 3361, U: 13415
Construct nearest neighbor graph edges in parallel: L: 3361, U: 13415
[5028,6704) finished...
[1676,3352) finished...
[3352,5028) finished...
[0,1676) finished...
[6704,8380) finished...
[11732,13415) finished...
[8380,10056) finished...
[10056,11732) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.046 with accuracy 0.7906...
Iteration 2, converge to 0.000 with accuracy 0.7906...
Iteration 3, converge to 0.000 with accuracy 0.7906...

Query	Docs	P@5	P@10	P@20
Pos	U	0.783	0.782	0.780
Pos	L	0.710	0.700	0.688
Neg	U	0.206	0.207	0.214
Neg	L	0.289	0.294	0.303

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.97 seconds with accuracy 0.7906 and F1 (0:0.756 1:0.817)...
.*.
optimization finished, #iter = 20
Objective value = -1186.08
nSV = 2358
Creating cache for labeled documents...
Generate 2186(0:1093) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1175	-5748.21	0.7025
1	1175	-5745.19	0.7025
2	1175	-5744.79	0.7025
3	1176	-5744.73	0.7023
4	1176	-5744.73	0.7023
5	1176	-5744.73	0.7023
6	1176	-5744.73	0.7023
[Info]Training procedure takes 0.16 seconds to finish...
0.86034 -0.63055 0.25119 1.16202 -1.12066 1.91529 -1.50065 -0.84496 -1.38694 -1.18819 0.43175 
Construct nearest neighbor graph nodes in parallel: L: 3312, U: 13464
Construct nearest neighbor graph edges in parallel: L: 3312, U: 13464
[5049,6732) finished...
[1683,3366) finished...
[0,1683) finished...
[3366,5049) finished...
[11781,13464) finished...
[6732,8415) finished...
[8415,10098) finished...
[10098,11781) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.041 with accuracy 0.7859...
Iteration 2, converge to 0.001 with accuracy 0.7859...
Iteration 3, converge to 0.000 with accuracy 0.7859...

Query	Docs	P@5	P@10	P@20
Pos	U	0.433	0.266	0.316
Pos	L	0.272	0.200	0.321
Neg	U	0.555	0.710	0.661
Neg	L	0.705	0.764	0.650

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.31 seconds with accuracy 0.7859 and F1 (0:0.754 1:0.810)...
.*
optimization finished, #iter = 19
Objective value = -1157.21
nSV = 2335
Creating cache for labeled documents...
Generate 2194(0:1097) ranking pairs for L2R model training...
[Info]LambdaRank configuration:
	Optimization Type OT_MAP, Lambda 1.000, Shrinkage 0.980, WindowSize 20
	Initial step size 0.0, Steps 100, Iteration 10
Iter	Misorder	LogLilikelihood	Perf
0	1225	-5178.66	0.6972
1	1224	-5172.66	0.6974
2	1224	-5171.87	0.6974
3	1224	-5171.76	0.6974
4	1224	-5171.74	0.6974
5	1224	-5171.74	0.6974
[Info]Training procedure takes 0.14 seconds to finish...
-2.15271 0.78654 0.19927 -0.62457 -0.98734 0.37012 1.63760 0.57490 0.74218 0.04137 -0.28055 
Construct nearest neighbor graph nodes in parallel: L: 3247, U: 13529
Construct nearest neighbor graph edges in parallel: L: 3247, U: 13529
[5073,6764) finished...
[1691,3382) finished...
[0,1691) finished...
[3382,5073) finished...
[11837,13529) finished...
[6764,8455) finished...
[8455,10146) finished...
[10146,11837) finished...
Nearest neighbor graph construction finished!
Random walk starts:
Iteration 1, converge to 0.043 with accuracy 0.7850...
Iteration 2, converge to 0.000 with accuracy 0.7850...
Iteration 3, converge to 0.000 with accuracy 0.7850...

Query	Docs	P@5	P@10	P@20
Pos	U	0.675	0.674	0.676
Pos	L	0.636	0.635	0.632
Neg	U	0.448	0.442	0.435
Neg	L	0.458	0.457	0.453

Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] Train/Test finished in 120.37 seconds with accuracy 0.7850 and F1 (0:0.757 1:0.807)...
*************************************************
The final result of Gaussian Fields by random walk [C:SVM[C:2, F:8055, T:L2R_L1LOSS_SVC_DUAL, c:1.000], k:20, k':20, r:1.000, alpha:1.000, beta:1.000, eta:0.100]-[LambdaRank@MAP] is as follows:
The total number of classes is 2
Class 0:	precision(0.793+/-0.009)	recall(0.719+/-0.009)
Class 1:	precision(0.781+/-0.004)	recall(0.842+/-0.010)
	0	1	P
0	44017	11498	0.7929
1	17239	61454	0.7809
R	0.7186	0.8424	0.7859
F1	0.7539	0.8105

Query	Docs	P@5	P@10	P@20
Pos	U	0.629	0.538	0.509
Pos	L	0.605	0.598	0.569
Neg	U	0.414	0.501	0.524
Neg	L	0.433	0.435	0.459

